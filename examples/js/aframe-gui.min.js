!function(t){function e(o){if(i[o])return i[o].exports;var r=i[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var i={};e.m=t,e.c=i,e.i=function(t){return t},e.d=function(t,i,o){e.o(t,i)||Object.defineProperty(t,i,{configurable:!1,enumerable:!0,get:o})},e.n=function(t){var i=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(i,"a",i),i},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="",e(e.s=21)}([function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");AFRAME.registerComponent("bevelbox",{schema:{width:{type:"number",default:1},height:{type:"number",default:1},depth:{type:"number",default:1},topLeftRadius:{type:"number",default:1e-5},topRightRadius:{type:"number",default:1e-5},bottomLeftRadius:{type:"number",default:1e-5},bottomRightRadius:{type:"number",default:1e-5},bevelEnabled:{type:"boolean",default:!0},bevelSegments:{type:"number",default:2},steps:{type:"number",default:1},bevelSize:{type:"number",default:.1},bevelOffset:{type:"number",default:0},bevelThickness:{type:"number",default:.1}},multiple:!1,init:function(){var t=this.el,e=this.data,i=e.width,o=e.height,r=-e.width/2,a=-e.height/2,n=new THREE.Shape;n.moveTo(r,a+e.topLeftRadius),n.lineTo(r,a+o-e.topLeftRadius),n.quadraticCurveTo(r,a+o,r+e.topLeftRadius,a+o),n.lineTo(r+i-e.topRightRadius,a+o),n.quadraticCurveTo(r+i,a+o,r+i,a+o-e.topRightRadius),n.lineTo(r+i,a+e.bottomRightRadius),n.quadraticCurveTo(r+i,a,r+i-e.bottomRightRadius,a),n.lineTo(r+e.bottomLeftRadius,a),n.quadraticCurveTo(r,a,r,a+e.bottomLeftRadius);var l=this.extrude(n);t.setObject3D("mesh",l)},extrude:function(t){var e=(this.el,this.data),i={steps:e.steps,depth:e.depth,bevelEnabled:e.bevelEnabled,bevelThickness:e.bevelThickness,bevelSize:e.bevelSize,bevelOffset:e.bevelOffset,bevelSegments:e.bevelSegments},o=new THREE.ExtrudeGeometry(t,i);return new THREE.Mesh(o,new THREE.MeshStandardMaterial({side:THREE.DoubleSide}))},update:function(t){},remove:function(){},pause:function(){},play:function(){}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-button",{schema:{on:{default:"click"},value:{type:"string",default:""},fontSize:{type:"number",default:.2},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_offwhite},borderColor:{type:"string",default:key_offwhite},focusColor:{type:"string",default:key_orange_light},backgroundColor:{type:"string",default:key_grey},hoverColor:{type:"string",default:key_grey_dark},activeColor:{type:"string",default:key_orange},toggle:{type:"boolean",default:!1},toggleState:{type:"boolean",default:!1}},dependencies:["aframe-troika-text"],init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");if(this.guiItem=i,t.fontSize>20){var o=t.fontSize/750;t.fontSize=o}var r=e.getAttribute("gui-interactable");this.guiInteractable=r,e.setAttribute("geometry","primitive: plane; \n                                     height: "+i.height+"; \n                                     width: "+i.width+";\n                                     "),e.setAttribute("material","shader: flat; \n                                     transparent: true; \n                                     opacity: 0.5; \n                                     side:double; \n                                     color:"+t.backgroundColor+";\n                                     ");var a=document.createElement("a-entity");if(i.bevel){var n=1*i.bevelSize,l=i.bevelThickness;a.setAttribute("bevelbox","width: "+(i.width-i.width*n)+"; \n                                                      height: "+(i.height-i.height*n)+"; \n                                                      depth: "+(i.baseDepth-i.baseDepth*l)+";\n                                                      bevelThickness: 0;\n                                                      bevelSize: "+i.bevelSize+";\n                                                      "),a.setAttribute("position","0 0 0")}else a.setAttribute("geometry","primitive: box; \n                                                      width: "+i.width+"; \n                                                      height: "+i.height+"; \n                                                      depth: "+i.baseDepth+";\n                                                      "),a.setAttribute("position","0 0 "+i.baseDepth/2);a.setAttribute("rotation","0 0 0"),a.setAttribute("material","shader: flat; \n                                                  opacity: 1; \n                                                  side:double; \n                                                  color: "+t.borderColor+"\n                                                  "),e.appendChild(a),this.buttonContainer=a;var s=document.createElement("a-entity");if(i.bevel){var n=1*i.bevelSize,l=i.bevelThickness;s.setAttribute("bevelbox","width: "+(i.width-i.gap-(i.width-i.gap)*n)+"; \n                                                   height: "+(i.height-i.gap-(i.height-i.gap)*n)+"; \n                                                   depth: "+(i.depth-i.depth*l)+";\n                                                   bevelThickness: "+i.bevelThickness+";\n                                                   bevelSize: "+i.bevelSize+";\n                                                   "),s.setAttribute("position","0 0 0")}else s.setAttribute("geometry","primitive: box; \n                                               width: "+(i.width-i.gap)+"; \n                                               height: "+(i.height-i.gap)+"; \n                                               depth: "+i.depth+";"),s.setAttribute("position","0 0 "+i.depth/2);s.setAttribute("material","shader: flat; \n                                               opacity: 1; \n                                               side:double; \n                                               color: "+(t.toggleState?t.activeColor:t.backgroundColor)+"\n                                               "),s.setAttribute("rotation","0 0 0"),e.appendChild(s),this.buttonEntity=s,this.setText(t.value),e.addEventListener("mouseenter",function(e){s.removeAttribute("animation__leave"),t.toggle||s.setAttribute("animation__enter","property: material.color; from: "+t.backgroundColor+"; to:"+t.hoverColor+"; dur:200;")}),e.addEventListener("mouseleave",function(e){t.toggle||(s.removeAttribute("animation__click"),s.setAttribute("animation__leave","property: material.color; from: "+t.hoverColor+"; to:"+t.backgroundColor+"; dur:200; easing: easeOutQuad;")),s.removeAttribute("animation__enter")}),e.addEventListener("focus",function(e){a.setAttribute("material","color",""+t.focusColor)}),e.addEventListener("blur",function(e){a.setAttribute("material","color",""+t.borderColor),t.toggle||(s.removeAttribute("animation__click"),s.setAttribute("animation__leave","property: material.color; from: "+t.hoverColor+"; to:"+t.backgroundColor+"; dur:200; easing: easeOutQuad;")),s.removeAttribute("animation__enter")}),e.addEventListener(t.on,function(i){if(t.toggle){var o=e.components["gui-button"];o.setActiveState(!o.data.toggleState)}else s.setAttribute("animation__click","property: material.color; from: "+t.activeColor+"; to:"+t.backgroundColor+"; dur:400; easing: easeOutQuad;");var a=r.clickAction,n=window[a];"function"==typeof n&&n(i)}),e.addEventListener("keyup",function(i){i.isComposing||229===i.keyCode||(13!=i.keyCode&&32!=i.keyCode||e.emit(t.on),i.preventDefault())}),e.setAttribute("role","button"),e.setAttribute("tabindex","0"),e.setAttribute("aria-label",t.value)},play:function(){},update:function(t){var e=this.data,i=this.el,o=i.getAttribute("gui-item");if(this.guiItem=o,i.setAttribute("geometry","primitive: plane; \n                                     height: "+o.height+"; \n                                     width: "+o.width+";\n                                     "),i.setAttribute("material","shader: flat; \n                                     transparent: true; \n                                     opacity: 0.5; \n                                     side:double; \n                                     color:"+e.backgroundColor+";\n                                     "),o.bevel){var r=1*o.bevelSize,a=o.bevelThickness;this.buttonContainer.setAttribute("bevelbox","width: "+(o.width-o.width*r)+"; \n                                                           height: "+(o.height-o.height*r)+"; \n                                                           depth: "+(o.baseDepth-o.baseDepth*a)+";\n                                                           bevelThickness: 0;\n                                                           bevelSize: "+o.bevelSize+";\n                                                           "),this.buttonContainer.setAttribute("position","0 0 0")}else this.buttonContainer.setAttribute("geometry","primitive: box; \n                                                       width: "+o.width+"; \n                                                       height: "+o.height+"; \n                                                       depth: "+o.baseDepth+";\n                                                       "),this.buttonContainer.setAttribute("position","0 0 "+o.baseDepth/2);if(this.buttonContainer.setAttribute("material","shader: flat; \n                                                       opacity: 1; \n                                                       side:double; \n                                                       color: "+e.borderColor+"\n                                                       "),o.bevel){var r=1*o.bevelSize,a=o.bevelThickness;this.buttonEntity.setAttribute("bevelbox","width: "+(o.width-o.gap-(o.width-o.gap)*r)+"; \n                                                        height: "+(o.height-o.gap-(o.height-o.gap)*r)+"; \n                                                        depth: "+(o.depth-o.depth*a)+";\n                                                        bevelThickness: "+o.bevelThickness+";\n                                                        bevelSize: "+o.bevelSize+";\n                                                        "),this.buttonEntity.setAttribute("position","0 0 0")}else this.buttonEntity.setAttribute("geometry","primitive: box; \n                                               width: "+(o.width-o.gap)+"; \n                                               height: "+(o.height-o.gap)+"; \n                                               depth: "+o.depth+";\n                                               "),this.buttonEntity.setAttribute("position","0 0 "+o.depth/2);if(this.buttonEntity.setAttribute("material","shader: flat; \n                                                    opacity: 1; \n                                                    side:double; \n                                                    color: "+(e.toggleState?e.activeColor:e.backgroundColor)+"\n                                                    "),this.textEntity){console.log("has textEntity: "+this.textEntity);var n=this.textEntity;n.parentNode.removeChild(n),this.setText(this.data.value)}else console.log("no textEntity!")},setActiveState:function(t){this.data.toggleState=t,t?(console.log("active, about to set active color"),this.buttonEntity.setAttribute("material","color",this.data.activeColor)):(console.log("not active, about to set background color"),this.buttonEntity.setAttribute("material","color",this.data.backgroundColor))},setText:function(t){var e=this.data,i=this.el,o=i.getAttribute("gui-item"),r=document.createElement("a-entity");this.textEntity=r,r.setAttribute("troika-text","value: "+t+"; \n                                                align:center; \n                                                anchor:center; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                color:"+e.fontColor+";                                                \n                                                font:"+e.fontFamily+";\n                                                fontSize:"+e.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+o.width/1.05+";\n                                                "),r.setAttribute("troika-text-material","shader: flat;"),o.bevel?r.setAttribute("position","0 0 "+(o.depth+o.bevelThickness/2+.05)):r.setAttribute("position","0 0 "+(o.depth/2+.05)),this.buttonEntity.appendChild(r)}}),AFRAME.registerPrimitive("a-gui-button",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"button"},"gui-button":{}},mappings:{onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction","key-code":"gui-interactable.keyCode",width:"gui-item.width",height:"gui-item.height",depth:"gui-item.depth","base-depth":"gui-item.baseDepth",gap:"gui-item.gap",radius:"gui-item.radius",margin:"gui-item.margin",bevel:"gui-item.bevel","bevel-segments":"gui-item.bevelSegments",steps:"gui-item.steps","bevel-size":"gui-item.bevelSize","bevel-offset":"gui-item.bevelOffset","bevel-thickness":"gui-item.bevelThickness",on:"gui-button.on",value:"gui-button.value","font-size":"gui-button.fontSize","font-family":"gui-button.fontFamily","font-color":"gui-button.fontColor","border-color":"gui-button.borderColor","focus-color":"gui-button.focusColor","background-color":"gui-button.backgroundColor","hover-color":"gui-button.hoverColor","active-color":"gui-button.activeColor",toggle:"gui-button.toggle","toggle-state":"gui-button.toggleState"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-circle-loader",{schema:{loaded:{type:"number",default:.5},fontSize:{type:"number",default:.2},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_grey},backgroundColor:{type:"string",default:key_offwhite},activeColor:{type:"string",default:key_orange}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");if(this.guiItem=i,t.fontSize>20){var o=t.fontSize/750;t.fontSize=o}e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.height+";"),e.setAttribute("material","shader: flat; transparent: true; opacity: 1; side:back; color:"+t.backgroundColor+";");var r=document.createElement("a-entity");r.setAttribute("geometry","primitive: cylinder; radius: "+i.height/2+"; height: 0.02;"),r.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.backgroundColor),r.setAttribute("rotation","90 0 0"),r.setAttribute("position","0 0 0.01"),e.appendChild(r);var a=document.createElement("a-ring");a.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.activeColor),a.setAttribute("radius-inner",""+i.height/3),a.setAttribute("radius-outer",""+i.height/2),a.setAttribute("theta-start","90"),a.setAttribute("theta-length",""+-360*t.loaded),a.setAttribute("rotation","0 0 0"),a.setAttribute("position","0 0 0.04"),a.id="loader_ring",e.appendChild(a),this.setText(t.loaded)},play:function(){},update:function(t){this.data,this.el;if(this.textEntity){console.log("has textEntity: "+this.textEntity);var e=this.textEntity;e.parentNode.removeChild(e),this.setText(this.data.loaded)}else console.log("no textEntity!")},setText:function(t){var e=document.createElement("a-entity");this.textEntity=e,e.setAttribute("troika-text","value: "+Math.round(100*t)+"; \n                                                align:center; \n                                                anchor:center; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.fontFamily+";\n                                                fontSize:"+this.data.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+this.guiItem.width/1.05+";\n                                                "),e.setAttribute("position","0 0 0.05"),this.el.appendChild(e)}}),AFRAME.registerPrimitive("a-gui-circle-loader",{defaultComponents:{"gui-item":{type:"circle-loader"},"gui-circle-loader":{}},mappings:{width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin",loaded:"gui-circle-loader.loaded","font-size":"gui-circle-loader.fontSize","font-family":"gui-circle-loader.fontFamily","font-color":"gui-circle-loader.fontColor","background-color":"gui-circle-loader.backgroundColor","active-color":"gui-circle-loader.activeColor"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-circle-timer",{schema:{countDown:{type:"number",default:10},fontSize:{type:"number",default:.2},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_grey},borderColor:{type:"string",default:key_grey},backgroundColor:{type:"string",default:key_offwhite},activeColor:{type:"string",default:key_orange}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");this.guiItem=i;var o=e.getAttribute("gui-interactable");if(console.log("in timer callback, guiInteractable: "+JSON.stringify(o)),t.fontSize>20){var r=t.fontSize/750;t.fontSize=r}e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.height+";"),e.setAttribute("material","shader: flat; transparent: true; opacity: 1; side:back; color:"+t.backgroundColor+";");var a=document.createElement("a-entity");a.setAttribute("geometry","primitive: cylinder; radius: "+i.height/2+"; height: 0.02;"),a.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.backgroundColor),a.setAttribute("rotation","90 0 0"),a.setAttribute("position","0 0 0.01"),e.appendChild(a);var n=document.createElement("a-ring");n.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),n.setAttribute("radius-inner",""+i.height/3),n.setAttribute("radius-outer",""+i.height/2),n.setAttribute("theta-start","-1"),n.setAttribute("theta-length","3"),n.setAttribute("position","0 0 0.04"),e.appendChild(n);var l=document.createElement("a-ring");l.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),l.setAttribute("radius-inner",""+i.height/3),l.setAttribute("radius-outer",""+i.height/2),l.setAttribute("theta-start","89"),l.setAttribute("theta-length","3"),l.setAttribute("position","0 0 0.04"),e.appendChild(l);var s=document.createElement("a-ring");s.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),s.setAttribute("radius-inner",""+i.height/3),s.setAttribute("radius-outer",""+i.height/2),s.setAttribute("theta-start","179"),s.setAttribute("theta-length","3"),s.setAttribute("position","0 0 0.04"),e.appendChild(s);var u=document.createElement("a-ring");u.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),u.setAttribute("radius-inner",""+i.height/3),u.setAttribute("radius-outer",""+i.height/2),u.setAttribute("theta-start","269"),u.setAttribute("theta-length","3"),u.setAttribute("position","0 0 0.04"),e.appendChild(u);var d=document.createElement("a-ring");d.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.activeColor),d.setAttribute("radius-inner",""+i.height/3),d.setAttribute("radius-outer",""+i.height/2),d.setAttribute("theta-start","0"),d.setAttribute("theta-length","0"),d.setAttribute("rotation","0 180 90"),d.setAttribute("position","0 0 0.03"),e.appendChild(d),this.timerRing=d;this.initCount=t.countDown;this.setText(t.countDown)},update:function(t){var e=this.data,i=this.el;if(0!==Object.keys(t).length&&e.countDown!==t.countDown){i.getObject3D("mesh").material.color=e.color;var o=e.countDown,r=this.initCount,a=Math.round(100*(r-o)/r)/100*360;this.timerRing.setAttribute("theta-length",a),this.textEntity.setAttribute("troika-text","value: "+e.countDown+";"),1==o&&console.log("fire callback on the last second")}},setText:function(t){var e=document.createElement("a-entity");this.textEntity=e,e.setAttribute("troika-text","value: "+t+"; \n                                                align:center; \n                                                anchor:center; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.fontFamily+";\n                                                fontSize:"+this.data.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+this.guiItem.width/1.05+";\n                                                "),e.setAttribute("position","0 0 0.05"),this.el.appendChild(e)},callback:function(){var t=this.el.getAttribute("gui-interactable"),e=t.clickAction;console.log("in timer callback, guiInteractable: "+JSON.stringify(t)),console.log("in button, clickActionFunctionName: "+e);var i=window[e];"function"==typeof i&&i()}}),AFRAME.registerPrimitive("a-gui-circle-timer",{defaultComponents:{"gui-item":{type:"circle-timer"},"gui-circle-timer":{}},mappings:{width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin","count-down":"gui-circle-timer.countDown","font-size":"gui-circle-timer.fontSize","font-family":"gui-circle-timer.fontFamily","font-color":"gui-circle-timer.fontColor","border-color":"gui-circle-timer.borderColor","background-color":"gui-circle-timer.backgroundColor","active-color":"gui-circle-timer.activeColor",callback:"gui-interactable.clickAction"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-cursor",{schema:{color:{type:"string",default:key_white},hoverColor:{type:"string",default:key_white},activeColor:{type:"string",default:key_orange},distance:{type:"number",default:-1},design:{type:"string",default:"dot"}},init:function(){var t=this.cursor=this.el.getAttribute("cursor"),e=this.fuse=t.fuse,i=t.fuseTimeout,o=this.el,r=this.data,a=200,n=i-a;if(AFRAME.utils.entity.setComponentProperty(o,"raycaster.interval","500"),console.log("fuse: "+e+", fuseTimeout: "+i),"dot"==r.design){o.setAttribute("geometry","primitive: ring; radiusInner:0.000001; radiusOuter:0.025"),o.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),o.setAttribute("position","0 0 "+r.distance),o.setAttribute("animation__radiusInnerIn","property: geometry.radiusInner; from: 0.000001; to:0.0225; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__radiusOuterIn","property: geometry.radiusOuter; from: 0.025; to:0.0275; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__colorIn","property: material.color; from: "+r.color+"; to:"+r.hoverColor+"; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__radiusInnerOut","property: geometry.radiusInner; from: 0.0225; to:0.000001; dur:"+a+"; easing:linear; startEvents: leavegui"),o.setAttribute("animation__radiusOuterOut","property: geometry.radiusOuter; from: 0.0275; to:0.025; dur:"+a+"; easing:linear; startEvents: leavegui"),o.setAttribute("animation__colorOut","property: material.color; from: "+r.hoverColor+"; to:"+r.color+"; dur:"+a+"; easing:linear; startEvents: leavegui"),o.setAttribute("animation__scale","property: scale; from: 1 1 1; to:1.25 1.25 1.25; dur:200; easing:easeInQuad; startEvents: click");var l=document.createElement("a-entity");if(l.setAttribute("geometry","primitive: ring; radiusInner:0.0275; radiusOuter:0.03; thetaLength:360"),l.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),l.setAttribute("position","0 0 0"),l.setAttribute("animation__radiusInnerIn","property: geometry.radiusInner; from: 0.0275; to:0.03; dur:"+a+"; easing:linear; startEvents: hovergui"),l.setAttribute("animation__radiusOuterIn","property: geometry.radiusOuter; from: 0.03; to:0.0325; dur:"+a+"; easing:linear; startEvents: hovergui"),l.setAttribute("animation__radiusInnerOut","property: geometry.radiusInner; from: 0.03; to:0.0275; dur:"+a+"; easing:linear; startEvents: leavegui"),l.setAttribute("animation__radiusOuterOut","property: geometry.radiusOuter; from: 0.0325; to:0.03; dur:"+a+"; easing:linear; startEvents: leavegui"),o.appendChild(l),this.cursorShadow=l,e){var s=document.createElement("a-entity");s.setAttribute("geometry","primitive: ring; radiusInner:0.03; radiusOuter:0.0375; thetaLength:0"),s.setAttribute("material","color: "+r.activeColor+"; shader: flat; opacity:1;"),s.setAttribute("position","0 0 0"),s.setAttribute("animation","property: geometry.thetaLength; from: 0; to:360; dur:"+n+"; delay: "+a+"; easing:linear; autoplay:false;"),o.appendChild(s),this.fuseLoader=s}}else if("ring"==r.design){o.setAttribute("geometry","primitive: ring; radiusInner:0.0225; radiusOuter:0.0275"),o.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),o.setAttribute("position","0 0 "+r.distance),o.setAttribute("animation__radiusInnerIn","property: geometry.radiusInner; from: 0.0225; to:0.025; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__radiusOuterIn","property: geometry.radiusOuter; from: 0.0275; to:0.0325; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__colorIn","property: material.color; from: "+r.color+"; to:"+r.hoverColor+"; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__radiusInnerOut","property: geometry.radiusInner; from: 0.025; to:0.0225; dur:"+a+"; easing:linear; startEvents: leavegui"),o.setAttribute("animation__radiusOuterOut","property: geometry.radiusOuter; from: 0.0325; to:0.0275; dur:"+a+"; easing:linear; startEvents: leavegui"),o.setAttribute("animation__colorOut","property: material.color; from: "+r.hoverColor+"; to:"+r.color+"; dur:"+a+"; easing:linear; startEvents: leavegui"),o.setAttribute("animation__scale","property: scale; from: 1 1 1; to:1.25 1.25 1.25; dur:200; easing:easeInQuad; startEvents: click");var l=document.createElement("a-entity");if(l.setAttribute("geometry","primitive: ring; radiusInner:0.03; radiusOuter:0.0325; thetaLength:360"),l.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),l.setAttribute("position","0 0 0"),l.setAttribute("animation__radiusInnerIn","property: geometry.radiusInner; from: 0.03; to:0.0325; dur:"+a+"; easing:linear; startEvents: hovergui"),l.setAttribute("animation__radiusOuterIn","property: geometry.radiusOuter; from: 0.0325; to:0.0375; dur:"+a+"; easing:linear; startEvents: hovergui"),l.setAttribute("animation__radiusInnerOut","property: geometry.radiusInner; from: 0.0325; to:0.03; dur:"+a+"; easing:linear; startEvents: leavegui"),l.setAttribute("animation__radiusOuterOut","property: geometry.radiusOuter; from: 0.0375; to:0.0325; dur:"+a+"; easing:linear; startEvents: leavegui"),o.appendChild(l),this.cursorShadow=l,e){var s=document.createElement("a-entity");s.setAttribute("geometry","primitive: ring; radiusInner:0.035; radiusOuter:0.0425; thetaLength:0"),s.setAttribute("material","color: "+r.activeColor+"; shader: flat; opacity:1;"),s.setAttribute("position","0 0 0"),s.setAttribute("animation","property: geometry.thetaLength; from: 0; to:360; dur:"+n+"; delay: "+a+"; easing:linear; autoplay:false;"),o.appendChild(s),this.fuseLoader=s}}else if("reticle"==r.design){o.setAttribute("geometry","primitive: ring; radiusInner:0.000001; radiusOuter:0.0125; thetaLength:180;"),o.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),o.setAttribute("position","0 0 "+r.distance),o.setAttribute("animation__opacityIn","property: material.opacity; from: 1; to: 0; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__opacityOut","property: material.opacity; from: 0; to: 1; dur:"+a+"; easing:linear; startEvents: leavegui");var u=document.createElement("a-entity");u.setAttribute("geometry","primitive: ring; radiusInner:0.000001; radiusOuter:0.0125; thetaLength:180; thetaStart:180;"),u.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),u.setAttribute("position","0 0 0"),u.setAttribute("animation__opacityIn","property: material.opacity; from: 0.25; to: 0; dur:"+a+"; easing:linear; startEvents: hovergui"),u.setAttribute("animation__opacityOut","property: material.opacity; from: 0; to: 0.25; dur:"+a+"; easing:linear; startEvents: leavegui"),o.appendChild(u),this.cursorCenter=u;var l=document.createElement("a-entity");l.setAttribute("geometry","primitive: ring; radiusInner:0.0125; radiusOuter:0.0145"),l.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),l.setAttribute("position","0 0 0"),l.setAttribute("animation__colorIn","property: material.color; from: #000000; to: "+r.color+"; dur:"+a+"; easing:linear; startEvents: hovergui"),l.setAttribute("animation__opacityIn","property: material.opacity; from: 0.25; to: 1; dur:"+a+"; easing:linear; startEvents: hovergui"),l.setAttribute("animation__colorOut","property: material.color; from: "+r.color+"; to: #000000; dur:"+a+"; easing:linear; startEvents: leavegui"),l.setAttribute("animation__opacityOut","property: material.opacity; from: 1; to: 0.25; dur:"+a+"; easing:linear; startEvents: leavegui"),o.appendChild(l),this.cursorShadow=l;var d=document.createElement("a-entity");d.setAttribute("geometry","primitive: plane; width:0.005; height:0.005;"),d.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),d.setAttribute("position","-0.0325 0.0325 0"),o.appendChild(d),this.cursorShadowTL=d;var c=document.createElement("a-entity");c.setAttribute("geometry","primitive: plane; width:0.005; height:0.005;"),c.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),c.setAttribute("position","-0.0325 -0.0325 0"),o.appendChild(c),this.cursorShadowBL=c;var h=document.createElement("a-entity");h.setAttribute("geometry","primitive: plane; width:0.005; height:0.005;"),h.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),h.setAttribute("position","0.0325 0.0325 0"),o.appendChild(h),this.cursorShadowTR=h;var g=document.createElement("a-entity");g.setAttribute("geometry","primitive: plane; width:0.005; height:0.005;"),g.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),g.setAttribute("position","0.0325 -0.0325 0"),o.appendChild(g),this.cursorShadowBR=g;var p=document.createElement("a-entity");p.setAttribute("geometry","primitive: plane; width:0.015; height:0.0035;"),p.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),p.setAttribute("position","-0.03 0.0375 0"),o.appendChild(p),this.cursorBoundTL=p;var m=document.createElement("a-entity");m.setAttribute("geometry","primitive: plane; width:0.0035; height:0.015;"),m.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),m.setAttribute("position","-0.0375 0.03 0"),o.appendChild(m),this.cursorBoundTL2=m;var b=document.createElement("a-entity");b.setAttribute("geometry","primitive: plane; width:0.015; height:0.0035;"),b.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),b.setAttribute("position","0.03 0.0375 0"),o.appendChild(b),this.cursorBoundTR=b;var f=document.createElement("a-entity");f.setAttribute("geometry","primitive: plane; width:0.0035; height:0.015;"),f.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),f.setAttribute("position","0.0375 0.03 0"),o.appendChild(f),this.cursorBoundTR2=f;var y=document.createElement("a-entity");y.setAttribute("geometry","primitive: plane; width:0.015; height:0.0035;"),y.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),y.setAttribute("position","-0.03 -0.0375 0"),o.appendChild(y),this.cursorBoundBL=y;var v=document.createElement("a-entity");v.setAttribute("geometry","primitive: plane; width:0.0035; height:0.015;"),v.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),v.setAttribute("position","-0.0375 -0.03 0"),o.appendChild(v),this.cursorBoundBL2=v;var A=document.createElement("a-entity");A.setAttribute("geometry","primitive: plane; width:0.015; height:0.0035;"),A.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),A.setAttribute("position","0.03 -0.0375 0"),o.appendChild(A),this.cursorBoundBR=A;var w=document.createElement("a-entity");if(w.setAttribute("geometry","primitive: plane; width:0.0035; height:0.015;"),w.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),w.setAttribute("position","0.0375 -0.03 0"),o.appendChild(w),this.cursorBoundBR2=w,e){var s=document.createElement("a-entity");s.setAttribute("geometry","primitive: plane; width:0.000001; height:0.01;"),s.setAttribute("material","color: "+r.activeColor+"; shader: flat; opacity:1;"),s.setAttribute("position","0 -0.05 0"),s.setAttribute("animation","property: geometry.width; from: 0; to: 0.075; dur:"+n+"; delay:"+a+"; easing:linear; autoplay:false;"),o.appendChild(s),this.fuseLoader=s}}else if("cross"==r.design){o.setAttribute("geometry","primitive: ring; radiusInner:0.035; radiusOuter:0.0375"),o.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),o.setAttribute("position","0 0 "+r.distance),o.setAttribute("animation__radiusInnerIn","property: geometry.radiusInner; from: 0.035; to: 0.0315; dur:"+a+"; easing:linear; startEvents: hovergui"),o.setAttribute("animation__radiusInnerOut","property: geometry.radiusInner; from: 0.0315; to: 0.035; dur:"+a+"; easing:linear; startEvents: leavegui");var l=document.createElement("a-entity");l.setAttribute("geometry","primitive: ring; radiusInner:0.0375; radiusOuter:0.04; thetaLength:360"),l.setAttribute("material","color: #000000; shader: flat; opacity:0.25;"),l.setAttribute("position","0 0 0"),o.appendChild(l),this.cursorShadow=l;var C=document.createElement("a-entity");C.setAttribute("geometry","primitive: plane; width:0.0035; height:0.01875"),C.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),C.setAttribute("position","0 0.028125 0"),C.setAttribute("animation__widthIn","property: geometry.width; from: 0.0035; to: 0.007; dur:"+n+"; easing:linear; startEvents: hovergui"),C.setAttribute("animation__widthOut","property: geometry.width; from: 0.007; to: 0.0035; dur:"+n+"; easing:linear; startEvents: leavegui"),o.appendChild(C),this.cursorVerticalTop=C;var k=document.createElement("a-entity");k.setAttribute("geometry","primitive: plane; width:0.0035; height:0.01875"),k.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),k.setAttribute("position","0 -0.028125 0"),k.setAttribute("animation__widthIn","property: geometry.width; from: 0.0035; to: 0.007; dur:"+n+"; easing:linear; startEvents: hovergui"),k.setAttribute("animation__widthOut","property: geometry.width; from: 0.007; to: 0.0035; dur:"+n+"; easing:linear; startEvents: leavegui"),o.appendChild(k),this.cursorVerticalBottom=k;var E=document.createElement("a-entity");E.setAttribute("geometry","primitive: plane; width:0.01875; height:0.0035"),E.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),E.setAttribute("position","-0.028125 0 0"),E.setAttribute("animation__heightIn","property: geometry.height; from: 0.0035; to: 0.007; dur:"+n+"; easing:linear; startEvents: hovergui"),E.setAttribute("animation__heightOut","property: geometry.height; from: 0.007; to: 0.0035; dur:"+n+"; easing:linear; startEvents: leavegui"),o.appendChild(E),this.cursorHorizontalLeft=E;var _=document.createElement("a-entity");if(_.setAttribute("geometry","primitive: plane; width:0.01875; height:0.0035"),_.setAttribute("material","color: "+r.color+"; shader: flat; opacity:1;"),_.setAttribute("position","0.028125 0 0"),_.setAttribute("animation__heightIn","property: geometry.height; from: 0.0035; to: 0.007; dur:"+n+"; easing:linear; startEvents: hovergui"),_.setAttribute("animation__heightOut","property: geometry.height; from: 0.007; to: 0.0035; dur:"+n+"; easing:linear; startEvents: leavegui"),o.appendChild(_),this.cursorHorizontalRight=_,e){var s=document.createElement("a-entity");s.setAttribute("geometry","primitive: ring; radiusInner:0.0415; radiusOuter:0.0485; thetaLength:0"),s.setAttribute("material","color: "+r.activeColor+"; shader: flat; opacity:1;"),s.setAttribute("position","0 0 0"),s.setAttribute("animation","property: geometry.thetaLength; from: 0; to: 360; dur:"+n+"; delay:"+a+"; easing:linear; autoplay:false;"),o.appendChild(s),this.fuseLoader=s}}o.addEventListener("mouseenter",function(){console.log("in gui-cursor mousenter, el: "+o),o.emit("hovergui"),"dot"==r.design||"ring"==r.design?l.emit("hovergui"):"cross"==r.design?(l.emit("hovergui"),C.emit("hovergui"),k.emit("hovergui"),E.emit("hovergui"),_.emit("hovergui")):"reticle"==r.design&&(centerHoverAniOpacity.emit("hovergui"),cursorHoverAniColor.emit("hovergui"),cursorHoverAniOpacity.emit("hovergui"))}),o.addEventListener("mouseleave",function(){console.log("in gui-cursor mouseleave, el: "+o),o.emit("leavegui"),"dot"==r.design||"ring"==r.design?l.emit("leavegui"):"cross"==r.design?(C.emit("leavegui"),k.emit("leavegui"),E.emit("leavegui"),_.emit("leavegui")):"reticle"==r.design&&(centerHoverAniOpacity.emit("leavegui"),cursorHoverAniColor.emit("leavegui"),cursorHoverAniOpacity.emit("leavegui")),e&&(s.object3D.el.components.animation.animation.pause(),s.object3D.el.components.animation.animation.seek(0)),o.setAttribute("scale","1 1 1")}),e&&o.addEventListener("fusing",function(){s.object3D.el.components.animation.animation.play()}),o.addEventListener("stateremoved",function(t){console.log("evt.detail "+t.detail),"cursor-fusing"===t.detail.state||"cursor-fusing"===t.detail?"dot"==r.design||"ring"==r.design||"cross"==r.design?e&&(s.object3D.el.components.animation.animation.pause(),s.object3D.el.components.animation.animation.seek(0),AFRAME.utils.entity.setComponentProperty(s,"geometry.thetaLength","0")):"reticle"==r.design&&e&&(s.object3D.el.components.animation.animation.pause(),s.object3D.el.components.animation.animation.seek(0),AFRAME.utils.entity.setComponentProperty(s,"geometry.width","0.000001")):"cursor-hovering"!==t.detail.state&&"cursor-hovering"!==t.detail||("dot"==r.design||"ring"==r.design?(AFRAME.utils.entity.setComponentProperty(this,"scale","1 1 1"),e&&AFRAME.utils.entity.setComponentProperty(s,"geometry.thetaLength","0")):"cross"==r.design?e&&AFRAME.utils.entity.setComponentProperty(s,"geometry.thetaLength","0"):"reticle"==r.design&&e&&AFRAME.utils.entity.setComponentProperty(s,"geometry.width","0.000001"))})},update:function(){},tick:function(){},remove:function(){},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-gui-cursor",{defaultComponents:{cursor:{},"gui-cursor":{}},mappings:{fuse:"cursor.fuse","fuse-timeout":"cursor.fuseTimeout",color:"gui-cursor.color","hover-color":"gui-cursor.hoverColor","active-color":"gui-cursor.activeColor",distance:"gui-cursor.distance",design:"gui-cursor.design"}})},function(t,e,i){"use strict";var o=function(t,e){new MutationObserver(function(t,i){t.forEach(function(t){console.log(t),t.addedNodes.length&&e(t.target,t.addedNodes)})}).observe(t,{childList:!0})};AFRAME.registerComponent("gui-flex-container",{schema:{flexDirection:{type:"string",default:"row"},justifyContent:{type:"string",default:"flexStart"},alignItems:{type:"string",default:"flexStart"},itemPadding:{type:"number",default:0},opacity:{type:"number",default:0},isTopContainer:{type:"boolean",default:!1},panelColor:{type:"string",default:key_grey},panelRounded:{type:"number",default:.05},styles:{fontFamily:{type:"string",default:"Helvetica"},fontColor:{type:"string",default:key_offwhite},borderColor:{type:"string",default:key_offwhite},backgroundColor:{type:"string",default:key_grey},hoverColor:{type:"string",default:key_grey_dark},activeColor:{type:"string",default:key_orange},handleColor:{type:"string",default:key_offwhite}}},init:function(){console.log("in aframe-gui-component init for: "+this.el.getAttribute("id"));var t=this.el.getAttribute("gui-item");this.data.isTopContainer?this.setBackground():this.el.setAttribute("rounded","height: "+t.height+"; width: "+t.width+"; opacity: "+this.data.opacity+"; color: "+this.data.panelColor+"; radius:"+this.data.panelRounded+"; depthWrite:false; polygonOffset:true; polygonOffsetFactor: 1;"),this.children=this.el.getChildEntities();var e=0,i=0;if("row"==this.data.flexDirection){if("flexStart"==this.data.justifyContent)e=0;else if("center"==this.data.justifyContent||"flexEnd"==this.data.justifyContent){for(var r=0,a=0;a<this.children.length;a++){var n=this.children[a],l=n.getAttribute("gui-item");r=r+l.margin.w+l.width+l.margin.y}"center"==this.data.justifyContent?e=.5*(t.width-r):"flexEnd"==this.data.justifyContent&&(e=t.width-r)}"center"==this.data.alignItems?i=t.height:"flexStart"==this.data.alignItems?i=0:"flexEnd"==this.data.alignItems&&(i=t.height)}else if("column"==this.data.flexDirection){if("flexStart"==this.data.justifyContent)i=0;else if("center"==this.data.justifyContent||"flexEnd"==this.data.justifyContent){for(var s=0,a=0;a<this.children.length;a++){var n=this.children[a],l=n.getAttribute("gui-item");s=s+l.margin.x+l.height+l.margin.z}"center"==this.data.justifyContent?i=.5*(t.height-s):"flexEnd"==this.data.justifyContent&&(i=t.height-s)}"flexStart"==this.data.alignItems?e=0:"center"==this.data.alignItems?e=.5*t.width:"flexEnd"==this.data.alignItems&&(e=0)}for(var a=0;a<this.children.length;a++){var n=this.children[a],u=0,d=0,l=n.getAttribute("gui-item");if(l){"row"==this.data.flexDirection?("center"==this.data.alignItems?d=0:"flexStart"==this.data.alignItems?d=.5*t.height-l.margin.x-l.height:"flexEnd"==this.data.alignItems&&(d=.5*-t.height+l.margin.z+l.height),u=.5*-t.width+e+l.margin.w+.5*l.width,e=e+l.margin.w+l.width+l.margin.y):"column"==this.data.flexDirection&&("center"==this.data.alignItems?u=0:"flexStart"==this.data.alignItems?u=.5*-t.width+l.margin.w+.5*l.width:"flexEnd"==this.data.alignItems&&(u=.5*t.width-l.margin.y-.5*l.width),d=.5*t.height-i- -l.margin.x-.5*l.height,i=i+l.margin.x+l.height+l.margin.z),n.setAttribute("position",u+" "+d+" "+.01),n.setAttribute("geometry","primitive: plane; height: "+l.height+"; width: "+l.width+";");var c=n.components["gui-flex-container"];c&&c.setBackground()}}o(this.el,function(t,e){e[0];e[0].addEventListener("loaded",function(e){t.components["gui-flex-container"].init()})})},update:function(){},tick:function(){},remove:function(){},pause:function(){},play:function(){},getElementSize:function(){},setBackground:function(){if(this.data.opacity>0){console.log("panel position: "+JSON.stringify(this.el.getAttribute("position")));var t=this.el.getAttribute("gui-item"),e=document.createElement("a-entity");e.setAttribute("rounded","height: "+t.height+"; width: "+t.width+"; opacity: "+this.data.opacity+"; color: "+this.data.panelColor+"; radius:"+this.data.panelRounded+"; depthWrite:false; polygonOffset:true; polygonOffsetFactor: 2;"),console.log("about to set panel background color to: : "+this.data.panelColor),e.setAttribute("position",this.el.getAttribute("position").x+" "+this.el.getAttribute("position").y+" "+(this.el.getAttribute("position").z-.0125)),e.setAttribute("rotation",this.el.getAttribute("rotation").x+" "+this.el.getAttribute("rotation").y+" "+this.el.getAttribute("rotation").z),this.el.parentNode.insertBefore(e,this.el)}}}),AFRAME.registerPrimitive("a-gui-flex-container",{defaultComponents:{"gui-item":{type:"flex-container"},"gui-flex-container":{}},mappings:{width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin","flex-direction":"gui-flex-container.flexDirection","justify-content":"gui-flex-container.justifyContent","align-items":"gui-flex-container.alignItems","item-padding":"gui-flex-container.itemPadding",opacity:"gui-flex-container.opacity","is-top-container":"gui-flex-container.isTopContainer","panel-color":"gui-flex-container.panelColor","panel-rounded":"gui-flex-container.panelRounded","font-family":"gui-flex-container.styles.fontFamily","font-color":"gui-flex-container.styles.fontColor","border-color":"gui-flex-container.styles.borderColor","background-color":"gui-flex-container.styles.backgroundColor","hover-color":"gui-flex-container.styles.hoverColor","active-color":"gui-flex-container.styles.activeColor","handle-color":"gui-flex-container.styles.handleColor"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-icon-button",{schema:{on:{default:"click"},toggle:{type:"boolean",default:!1},toggleState:{type:"boolean",default:!1},icon:{type:"string",default:"f0f3"},iconActive:{type:"string",default:""},iconFontSize:{type:"number",default:.4},iconFont:{type:"string",default:"assets/fonts/fa-regular-400.ttf"},fontColor:{type:"string",default:key_offwhite},borderColor:{type:"string",default:key_offwhite},backgroundColor:{type:"string",default:key_grey},hoverColor:{type:"string",default:key_grey_dark},activeColor:{type:"string",default:key_orange}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");this.guiItem=i;var o=(this.toggleState=t.toggle,e.getAttribute("gui-interactable"));if(this.guiInteractable=o,t.iconFontSize>20){var r=t.iconFontSize/750;t.iconFontSize=r}e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.width+";"),e.setAttribute("material","shader: flat; transparent: true; opacity: 0.0; alphaTest: 0.5; side:double; color:"+t.backgroundColor+";");var a=document.createElement("a-entity");a.setAttribute("geometry","primitive: cylinder; radius: "+i.height/2+"; height: 0.02;"),a.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),a.setAttribute("rotation","90 0 0"),a.setAttribute("position","0 0 0.01"),e.appendChild(a);var n=document.createElement("a-entity");n.setAttribute("geometry","primitive: cylinder; radius: "+i.height/2.05+"; height: 0.04;"),n.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.backgroundColor),n.setAttribute("rotation","90 0 0"),n.setAttribute("position","0 0 0.02"),e.appendChild(n),this.buttonEntity=n,this.setIcon(t.icon),e.addEventListener("mouseenter",function(e){n.removeAttribute("animation__leave"),t.toggle||n.setAttribute("animation__enter","property: material.color; from: "+t.backgroundColor+"; to:"+t.hoverColor+"; dur:200;")}),e.addEventListener("mouseleave",function(e){t.toggle||(n.removeAttribute("animation__click"),n.setAttribute("animation__leave","property: material.color; from: "+t.hoverColor+"; to:"+t.backgroundColor+"; dur:200; easing: easeOutQuad;")),n.removeAttribute("animation__enter")}),e.addEventListener(t.on,function(i){if(t.toggle){var r=e.components["gui-button"];r.setActiveState(!r.data.toggleState)}else n.setAttribute("animation__click","property: material.color; from: "+t.activeColor+"; to:"+t.backgroundColor+"; dur:400; easing: easeOutQuad;");var a=o.clickAction,l=window[a];"function"==typeof l&&l(i)}),e.setAttribute("role","button")},play:function(){},update:function(t){console.log("In button update, toggle: "+this.toggleState);this.data,this.el;if(this.iconEntity){console.log("has iconEntity: "+this.iconEntity);var e=this.iconEntity;e.parentNode.removeChild(e),this.setIcon(this.data.icon)}else console.log("no iconEntity!")},setActiveState:function(t){this.data.toggleState=t,t?(console.log("active, about to set active color"),this.buttonEntity.setAttribute("material","color",this.data.activeColor)):(console.log("not active, about to set background color"),this.buttonEntity.setAttribute("material","color",this.data.backgroundColor))},setIcon:function(t){var e=parseInt(t,16),i=String.fromCharCode(e),o=document.createElement("a-entity");this.iconEntity=o,o.setAttribute("troika-text","value:"+i+"; \n                                                align:center; \n                                                anchor:center; \n                                                baseline:center;\n                                                lineHeight:"+this.guiItem.height+";\n                                                maxWidth:"+this.guiItem.width+";\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.iconFont+";\n                                                fontSize:"+this.data.iconFontSize+";\n                                                depthOffset:1;\n                                                "),o.setAttribute("position","0 0 0.05"),this.el.appendChild(o)}}),AFRAME.registerPrimitive("a-gui-icon-button",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"icon-button"},"gui-icon-button":{}},mappings:{onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction","key-code":"gui-interactable.keyCode",width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin",on:"gui-icon-button.on","font-color":"gui-icon-button.fontColor","font-family":"gui-icon-button.fontFamily","border-color":"gui-icon-button.borderColor","background-color":"gui-icon-button.backgroundColor","hover-color":"gui-icon-button.hoverColor","active-color":"gui-icon-button.activeColor",icon:"gui-icon-button.icon","icon-active":"gui-icon-button.iconActive","icon-font":"gui-icon-button.iconFont","icon-font-size":"gui-icon-button.iconFontSize",toggle:"gui-icon-button.toggle","toggle-state":"gui-icon-button.toggleState"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-icon-label-button",{schema:{on:{default:"click"},toggle:{type:"boolean",default:!1},toggleState:{type:"boolean",default:!1},icon:{type:"string",default:"f0f3"},iconActive:{type:"string",default:""},iconFontSize:{type:"number",default:.35},iconFont:{type:"string",default:"assets/fonts/fa-regular-400.ttf"},value:{type:"string",default:""},fontSize:{type:"number",default:.2},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_offwhite},borderColor:{type:"string",default:key_offwhite},backgroundColor:{type:"string",default:key_grey},hoverColor:{type:"string",default:key_grey_dark},activeColor:{type:"string",default:key_orange}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");this.guiItem=i;var o=(this.toggleState=t.toggle,e.getAttribute("gui-interactable"));if(this.guiInteractable=o,t.iconFontSize>20){var r=t.iconFontSize/750;t.iconFontSize=r}if(t.fontSize>20){var r=t.fontSize/750;t.fontSize=r}e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.width+";"),e.setAttribute("material","shader: flat; side:front; color:"+t.backgroundColor+";");var a=document.createElement("a-entity");a.setAttribute("geometry","primitive: box; width: "+i.width+"; height: "+i.height+"; depth: 0.02;"),a.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),a.setAttribute("rotation","0 0 0"),a.setAttribute("position","0 0 0.01"),e.appendChild(a);var n=document.createElement("a-entity");n.setAttribute("geometry","primitive: box; width: "+(i.width-.025)+"; height: "+(i.height-.025)+"; depth: 0.04;"),n.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+(t.toggleState?t.activeColor:t.backgroundColor)),n.setAttribute("rotation","0 0 0"),n.setAttribute("position","0 0 0.02"),e.appendChild(n),this.buttonEntity=n,this.setIcon(t.icon),""!=t.value&&this.setText(t.value),e.addEventListener("mouseenter",function(e){n.removeAttribute("animation__leave"),t.toggle||n.setAttribute("animation__enter","property: material.color; from: "+t.backgroundColor+"; to:"+t.hoverColor+"; dur:200;")}),e.addEventListener("mouseleave",function(e){t.toggle||(n.removeAttribute("animation__click"),n.setAttribute("animation__leave","property: material.color; from: "+t.hoverColor+"; to:"+t.backgroundColor+"; dur:200; easing: easeOutQuad;")),n.removeAttribute("animation__enter")}),e.addEventListener(t.on,function(i){if(t.toggle){var r=e.components["gui-button"];r.setActiveState(!r.data.toggleState)}else n.setAttribute("animation__click","property: material.color; from: "+t.activeColor+"; to:"+t.backgroundColor+"; dur:400; easing: easeOutQuad;");var a=o.clickAction,l=window[a];"function"==typeof l&&l(i)}),e.setAttribute("role","button")},play:function(){},update:function(t){console.log("In button update, toggle: "+this.toggleState);this.data,this.el;if(this.iconEntity){console.log("has iconEntity: "+this.iconEntity);var e=this.iconEntity;e.parentNode.removeChild(e),this.setIcon(this.data.icon)}else console.log("no iconEntity!");if(this.textEntity){console.log("has textEntity: "+this.textEntity);var e=this.textEntity;e.parentNode.removeChild(e),this.setText(this.data.value)}else console.log("no textEntity!")},setActiveState:function(t){this.data.toggleState=t,t?(console.log("active, about to set active color"),this.buttonEntity.setAttribute("material","color",this.data.activeColor)):(console.log("not active, about to set background color"),this.buttonEntity.setAttribute("material","color",this.data.backgroundColor))},setIcon:function(t){var e=parseInt(t,16),i=String.fromCharCode(e),o=document.createElement("a-entity"),r=0;""!=this.data.value&&(r=.5*-this.guiItem.width+.5*this.guiItem.height),this.iconEntity=o,o.setAttribute("troika-text","value:"+i+"; \n                                                align:center; \n                                                anchor:center; \n                                                baseline:center;\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.iconFont+";\n                                                fontSize:"+this.data.iconFontSize+";\n                                                depthOffset:1;\n                                                "),o.setAttribute("position",r+" 0 0.05"),this.el.appendChild(o)},setText:function(t){var e=this.guiItem.height-.5*this.guiItem.width,i=document.createElement("a-entity");this.textEntity=i,i.setAttribute("troika-text","value: "+t+"; \n                                                align:left; \n                                                anchor:left; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.fontFamily+";\n                                                fontSize:"+this.data.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+this.guiItem.width/1.05+";\n                                                "),i.setAttribute("position",e+" 0 0.05"),this.el.appendChild(i)}}),AFRAME.registerPrimitive("a-gui-icon-label-button",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"icon-label-button"},"gui-icon-label-button":{}},mappings:{onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction","key-code":"gui-interactable.keyCode",width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin",on:"gui-icon-label-button.on","font-color":"gui-icon-label-button.fontColor","font-family":"gui-icon-label-button.fontFamily","font-size":"gui-icon-label-button.fontSize","border-color":"gui-icon-label-button.borderColor","background-color":"gui-icon-label-button.backgroundColor","hover-color":"gui-icon-label-button.hoverColor","active-color":"gui-icon-label-button.activeColor",icon:"gui-icon-label-button.icon","icon-active":"gui-icon-label-button.iconActive","icon-font":"gui-icon-label-button.iconFont","icon-font-size":"gui-icon-label-button.iconFontSize",value:"gui-icon-label-button.value",toggle:"gui-icon-label-button.toggle","toggle-state":"gui-icon-label-button.toggleState"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-input",{schema:{align:{type:"string",default:"left"},on:{default:"click"},value:{type:"string",default:""},toggle:{type:"boolean",default:!1},toggleState:{type:"boolean",default:!1},fontSize:{type:"number",default:.2},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_grey_dark},borderColor:{type:"string",default:key_grey_dark},borderHoverColor:{type:"string",default:key_grey},backgroundColor:{type:"string",default:key_offwhite},hoverColor:{type:"string",default:key_white},activeColor:{type:"string",default:key_orange}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");this.guiItem=i;var o=(this.toggleState=t.toggle,e.getAttribute("gui-interactable"));if(this.guiInteractable=o,t.fontSize>20){var r=t.fontSize/750;t.fontSize=r}e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.width+";"),e.setAttribute("material","shader: flat; transparent: false; side:front; color:"+t.backgroundColor+";");var a=document.createElement("a-entity");a.setAttribute("geometry","primitive: box; width: "+i.width+"; height: 0.05; depth: 0.02;"),a.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),a.setAttribute("position","0 -"+(i.height/2-.025)+" 0.01"),e.appendChild(a);var n=document.createElement("a-entity");n.setAttribute("geometry","primitive: box; width: "+i.width+"; height: 0.05; depth: 0.02;"),n.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),n.setAttribute("position","0 "+(i.height/2-.025)+" 0.01"),e.appendChild(n);var l=document.createElement("a-entity");l.setAttribute("geometry","primitive: box; width: 0.05; height: "+i.height+"; depth: 0.02;"),l.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),l.setAttribute("position","-"+(i.width/2-.025)+" 0 0.01"),e.appendChild(l);var s=document.createElement("a-entity");s.setAttribute("geometry","primitive: box; width: 0.05; height: "+i.height+"; depth: 0.02;"),s.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor),s.setAttribute("position",i.width/2-.025+" 0 0.01"),e.appendChild(s),this.setText(t.value),e.setAttribute("role","input"),e.addEventListener("mouseenter",function(i){e.setAttribute("material","color",t.hoverColor),a.setAttribute("material","color",t.borderHoverColor),n.setAttribute("material","color",t.borderHoverColor),l.setAttribute("material","color",t.borderHoverColor),s.setAttribute("material","color",t.borderHoverColor)}),e.addEventListener("mouseleave",function(i){e.setAttribute("material","color",t.backgroundColor),a.setAttribute("material","color",t.borderColor),n.setAttribute("material","color",t.borderColor),l.setAttribute("material","color",t.borderColor),s.setAttribute("material","color",t.borderColor)}),e.addEventListener(t.on,function(t){console.log("I was clicked at: ",t.detail.intersection.point);var i=e.getAttribute("gui-interactable");console.log("guiInteractable: "+i);var o=i.clickAction;console.log("clickActionFunctionName: "+o);var r=window[o];"function"==typeof r&&r(t)})},setText:function(t){var e=.25*this.guiItem.height-.5*this.guiItem.width,i=document.createElement("a-entity");this.textEntity=i,i.setAttribute("troika-text","value: "+t+"; \n                                                align:left; \n                                                anchor:left; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.fontFamily+";\n                                                fontSize:"+this.data.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+this.guiItem.width/1.05+";\n                                                "),i.setAttribute("position",e+" 0 0.05"),this.el.appendChild(i)},play:function(){},update:function(t){var e=this.data;this.el;this.textEntity.setAttribute("troika-text","value: "+e.value+";")},appendText:function(t){var e=this.data.value+t;this.el.setAttribute("gui-input","text",e)},delete:function(){if(this.data.value&&this.data.value.length>0){var t=this.data.value.slice(0,-1);this.el.setAttribute("gui-input","text",t)}}}),AFRAME.registerPrimitive("a-gui-input",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"input"},"gui-input":{}},mappings:{onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction",width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin",value:"gui-input.value","font-size":"gui-input.fontSize","font-family":"gui-input.fontFamily","font-color":"gui-input.fontColor","background-color":"gui-input.backgroundColor","hover-color":"gui-input.hoverColor","border-color":"gui-input.borderColor","border-hover-color":"gui-input.borderHoverColor"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-interactable",{schema:{clickAction:{type:"string"},hoverAction:{type:"string"},keyCode:{type:"number",default:-1},key:{type:"string"}},init:function(){var t=this.data,e=this.el;t.keyCode>0&&window.addEventListener("keydown",function(i){i.key==t.key?e.emit("click"):i.keyCode==t.keyCode&&e.emit("click"),i.preventDefault()},!0)},update:function(){},tick:function(){},remove:function(){},pause:function(){},play:function(){},setClickAction:function(t){this.data.clickAction=t}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-item",{schema:{type:{type:"string"},width:{type:"number",default:1},height:{type:"number",default:1},baseDepth:{type:"number",default:.01},depth:{type:"number",default:.02},gap:{type:"number",default:.025},radius:{type:"number",default:0},margin:{type:"vec4",default:{x:0,y:0,z:0,w:0}},bevel:{type:"boolean",default:!1},bevelSegments:{type:"number",default:5},steps:{type:"number",default:2},bevelSize:{type:"number",default:.1},bevelOffset:{type:"number",default:0},bevelThickness:{type:"number",default:.1}},init:function(){},update:function(){},tick:function(){},remove:function(){},pause:function(){},play:function(){}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-label",{schema:{value:{type:"string",default:""},align:{type:"string",default:"center"},anchor:{type:"string",default:"center"},fontSize:{type:"number",default:.2},lineHeight:{type:"number",default:.2},letterSpacing:{type:"number",default:0},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_grey_dark},backgroundColor:{type:"string",default:key_offwhite},opacity:{type:"number",default:1},textDepth:{type:"number",default:.01}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");if(this.guiItem=i,e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.width+";"),e.setAttribute("material","shader: flat; side:front; color:"+t.backgroundColor+"; transparent: true; opacity: "+t.opacity+"; alphaTest: 0.5;"),t.fontSize>20){var o=t.fontSize/750;t.fontSize=o}this.setText(t.value)},update:function(t){this.data,this.el;if(this.textEntity){console.log("has textEntity: "+this.textEntity);var e=this.textEntity;e.parentNode.removeChild(e),this.setText(this.data.value)}else console.log("no textEntity!")},setText:function(t){var e=document.createElement("a-entity");this.textEntity=e,e.setAttribute("troika-text","value: "+t+"; \n                                                align: "+this.data.align+"; \n                                                anchor: "+this.data.anchor+"; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                lineHeight: "+this.data.lineHeight+";\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.fontFamily+";\n                                                fontSize:"+this.data.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+this.guiItem.width/1.05+";\n                                                "),e.setAttribute("position","0 0 "+this.data.textDepth),this.el.appendChild(e)}}),AFRAME.registerPrimitive("a-gui-label",{defaultComponents:{"gui-item":{type:"label"},"gui-label":{}},mappings:{width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin",align:"gui-label.align",anchor:"gui-label.anchor",value:"gui-label.value","font-size":"gui-label.fontSize","line-height":"gui-label.lineHeight","letter-spacing":"gui-label.letterSpacing","font-color":"gui-label.fontColor","font-family":"gui-label.fontFamily","background-color":"gui-label.backgroundColor",opacity:"gui-label.opacity","text-depth":"gui-label.textDepth"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-progressbar",{schema:{backgroundColor:{type:"string",default:key_grey},activeColor:{type:"string",default:key_orange}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.width+";"),e.setAttribute("material","shader: flat; opacity: 1;  color: "+t.backgroundColor+"; side:front;");var o=document.createElement("a-entity");o.setAttribute("geometry","primitive: box; width: 0.04; height: "+i.height+"; depth: 0.02;"),o.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.activeColor),o.setAttribute("position",-i.width/2+" 0 0.01"),o.id="progress_meter",e.appendChild(o)},update:function(){},tick:function(){},remove:function(){},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-gui-progressbar",{defaultComponents:{"gui-item":{type:"progressbar"},"gui-progressbar":{}},mappings:{width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin","background-color":"gui-progressbar.backgroundColor","active-color":"gui-progressbar.activeColor"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-radio",{schema:{on:{default:"click"},value:{type:"string",default:""},active:{type:"boolean",default:!0},toggle:{type:"boolean",default:!1},toggleState:{type:"boolean",default:!1},checked:{type:"boolean",default:!1},radiosizecoef:{type:"number",default:1},fontSize:{type:"number",default:.2},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_grey_dark},borderColor:{type:"string",default:key_white},backgroundColor:{type:"string",default:key_offwhite},hoverColor:{type:"string",default:key_grey_light},activeColor:{type:"string",default:key_orange},handleColor:{type:"string",default:key_grey}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");this.guiItem=i;var o=(this.toggleState=t.toggle,e.getAttribute("gui-interactable"));if(this.guiInteractable=o,t.fontSize>20){var r=t.fontSize/750;t.fontSize=r}e.setAttribute("material","shader: flat; depthTest:true;transparent: false; opacity: 1;  color: "+this.data.backgroundColor+"; side:front;"),e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.height+";");var a=.5*-i.width+.5*i.height,n=document.createElement("a-cylinder");n.setAttribute("radius",.2*i.height*t.radiosizecoef),n.setAttribute("height","0.01"),n.setAttribute("rotation","90 0 0"),n.setAttribute("material","color:"+t.handleColor+"; shader: flat;"),n.setAttribute("position",a+" 0 0"),e.appendChild(n);var l=document.createElement("a-torus");l.setAttribute("radius",.19*i.height*t.radiosizecoef),l.setAttribute("radius-tubular","0.01"),l.setAttribute("rotation","90 0 0"),l.setAttribute("material","color:"+t.borderColor+"; shader: flat;"),n.appendChild(l);var s=document.createElement("a-cylinder");s.setAttribute("radius",.18*i.height*t.radiosizecoef),s.setAttribute("height","0.02"),s.setAttribute("rotation","0 0 0"),s.setAttribute("material","color:"+t.handleColor+"; shader: flat;"),n.appendChild(s),this.setText(t.value),this.updateToggle(t.active),e.setAttribute("checked",t.active),e.addEventListener("mouseenter",function(e){l.removeAttribute("animation__leave"),l.setAttribute("animation__enter","property: material.color; from: "+t.borderColor+"; to:"+t.hoverColor+"; dur:200;")}),e.addEventListener("mouseleave",function(e){l.removeAttribute("animation__enter"),l.setAttribute("animation__leave","property: material.color; from: "+t.hoverColor+"; to:"+t.borderColor+"; dur:200; easing: easeOutQuad;")}),e.addEventListener(t.on,function(i){t.checked=!t.checked,t.checked?(s.removeAttribute("animation__colorOut"),s.removeAttribute("animation__rotationOut"),s.removeAttribute("animation__position1Out"),s.removeAttribute("animation__position2Out"),s.setAttribute("animation__colorIn","property: material.color; from: "+t.handleColor+"; to:"+t.activeColor+"; dur:500; easing:easeInOutCubic;"),s.setAttribute("animation__rotationIn","property: rotation; from: 0 0 0; to:-180 0 0; dur:500; easing:easeInOutCubic;"),s.setAttribute("animation__position1In","property: position; from: 0 0 0; to:0 0.3 0; dur:200; easing:easeInOutCubic;"),s.setAttribute("animation__position2In","property: position; from: 0 0.3 0; to:0 0 0; dur:200; easing:easeInOutCubic; delay:300;")):(s.removeAttribute("animation__colorIn"),s.removeAttribute("animation__rotationIn"),s.removeAttribute("animation__position1In"),s.removeAttribute("animation__position2In"),s.setAttribute("animation__colorOut","property: material.color; from: "+t.activeColor+"; to:"+t.handleColor+"; dur:500; easing:easeInOutCubic;"),s.setAttribute("animation__rotationOut","property: rotation; from: -180 0 0; to:0 0 0; dur:500; easing:easeInOutCubic;"),s.setAttribute("animation__position1Out","property: position; from: 0 0 0; to:0 0.3 0; dur:200; easing:easeInOutCubic; "),s.setAttribute("animation__position2Out","property: position; from: 0 0.3 0; to:0 0 0; dur:200; easing:easeInOutCubic; delay:300;"));var o=e.getAttribute("gui-interactable"),r=o.clickAction,a=window[r];"function"==typeof a&&a(i)}),e.setAttribute("role","radio")},update:function(){var t=this.data;this.el;if(this.updateToggle(t.active),this.textEntity){console.log("has textEntity: "+this.textEntity);var e=this.textEntity;e.parentNode.removeChild(e),this.setText(this.data.value)}else console.log("no textEntity!")},updateToggle:function(t){},setText:function(t){var e=this.guiItem.height-.5*this.guiItem.width,i=document.createElement("a-entity");this.textEntity=i,i.setAttribute("troika-text","value: "+t+"; \n                                                align:left; \n                                                anchor:left; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.fontFamily+";\n                                                fontSize:"+this.data.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+this.guiItem.width/1.05+";\n                                                "),i.setAttribute("position",e+" 0 0.05"),this.el.appendChild(i)}}),AFRAME.registerPrimitive("a-gui-radio",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"radio"},"gui-radio":{}},mappings:{onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction","key-code":"gui-interactable.keyCode",width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin",on:"gui-radio.on",value:"gui-radio.value",active:"gui-radio.active",checked:"gui-radio.checked","font-color":"gui-radio.fontColor","font-size":"gui-radio.fontSize","font-family":"gui-radio.fontFamily","border-color":"gui-radio.borderColor","background-color":"gui-radio.backgroundColor","hover-color":"gui-radio.hoverColor","active-color":"gui-radio.activeColor","handle-color":"gui-radio.handleColor",radiosizecoef:"gui-radio.radiosizecoef"}})},function(t,e,i){"use strict";AFRAME.registerComponent("rounded",{schema:{enabled:{default:!0},width:{type:"number",default:1},height:{type:"number",default:1},radius:{type:"number",default:.3},topLeftRadius:{type:"number",default:-1},topRightRadius:{type:"number",default:-1},bottomLeftRadius:{type:"number",default:-1},bottomRightRadius:{type:"number",default:-1},depthWrite:{default:!0},polygonOffset:{default:!1},polygonOffsetFactor:{type:"number",default:0},color:{type:"color",default:"#F0F0F0"},opacity:{type:"number",default:1}},init:function(){this.rounded=new THREE.Mesh(this.draw(),new THREE.MeshStandardMaterial({color:new THREE.Color(this.data.color)})),this.updateOpacity(),this.el.setObject3D("mesh",this.rounded)},update:function(){this.data.enabled?this.rounded&&(this.rounded.visible=!0,this.rounded.geometry=this.draw(),this.rounded.material.color=new THREE.Color(this.data.color),this.updateOpacity()):this.rounded.visible=!1},updateOpacity:function(){this.data.opacity<0&&(this.data.opacity=0),this.data.opacity>1&&(this.data.opacity=1),this.data.opacity<1?(this.rounded.material.transparent=!0,this.rounded.material.opacity=this.data.opacity,this.rounded.material.alphaTest=0):this.rounded.material.transparent=!1},tick:function(){},remove:function(){this.rounded&&(this.el.object3D.remove(this.rounded),this.rounded=null)},draw:function(){function t(t,e,i,o,r,a,n,l,s){a||(a=1e-5),n||(n=1e-5),l||(l=1e-5),s||(s=1e-5),t.moveTo(e,i+a),t.lineTo(e,i+r-a),t.quadraticCurveTo(e,i+r,e+a,i+r),t.lineTo(e+o-n,i+r),t.quadraticCurveTo(e+o,i+r,e+o,i+r-n),t.lineTo(e+o,i+s),t.quadraticCurveTo(e+o,i,e+o-s,i),t.lineTo(e+l,i),t.quadraticCurveTo(e,i,e,i+l)}var e=new THREE.Shape,i=[this.data.radius,this.data.radius,this.data.radius,this.data.radius];return-1!=this.data.topLeftRadius&&(i[0]=this.data.topLeftRadius),-1!=this.data.topRightRadius&&(i[1]=this.data.topRightRadius),-1!=this.data.bottomLeftRadius&&(i[2]=this.data.bottomLeftRadius),-1!=this.data.bottomRightRadius&&(i[3]=this.data.bottomRightRadius),t(e,-this.data.width/2,-this.data.height/2,this.data.width,this.data.height,i[0],i[1],i[2],i[3]),new THREE.ShapeBufferGeometry(e)},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-rounded",{defaultComponents:{rounded:{}},mappings:{enabled:"rounded.enabled",width:"rounded.width",height:"rounded.height",radius:"rounded.radius","depth-write":"rounded.depthWrite","polygon-offset":"rounded.polygonOffset","polygon-offset-factor":"rounded.polygonOffsetFactor","top-left-radius":"rounded.topLeftRadius","top-right-radius":"rounded.topRightRadius","bottom-left-radius":"rounded.bottomLeftRadius","bottom-right-radius":"rounded.bottomRightRadius",color:"rounded.color",opacity:"rounded.opacity"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-slider",{schema:{activeColor:{type:"string",default:key_orange},backgroundColor:{type:"string",default:key_offwhite},borderColor:{type:"string",default:key_grey},handleColor:{type:"string",default:key_white},handleInnerDepth:{type:"number",default:.02},handleInnerRadius:{type:"number",default:.13},handleOuterDepth:{type:"number",default:.04},handleOuterRadius:{type:"number",default:.17},hoverColor:{type:"string",default:key_grey_light},leftRightPadding:{type:"number",default:.25},percent:{type:"number",default:.5},sliderBarHeight:{type:"number",default:.05},sliderBarDepth:{type:"number",default:.03},topBottomPadding:{type:"number",default:.125}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item"),o=i.width-2*t.leftRightPadding;i.height,t.topBottomPadding;e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.height+";"),e.setAttribute("material","shader: flat; opacity: 1;  color: "+t.backgroundColor+"; side:front;");var r=document.createElement("a-entity");r.setAttribute("geometry","primitive: box; width: "+t.percent*o+"; height: "+t.sliderBarHeight+"; depth: "+t.sliderBarDepth+";"),r.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.activeColor+";"),r.setAttribute("position",t.percent-.5*o+" 0 "+(t.sliderBarDepth-.01)),e.appendChild(r);var a=document.createElement("a-entity");a.setAttribute("geometry","primitive: box; width: "+(o-t.percent*o)+"; height: "+t.sliderBarHeight+"; depth: "+t.sliderBarDepth+";"),a.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor+";"),a.setAttribute("position",t.percent*o*.5+" 0 "+(t.sliderBarDepth-.01)),e.appendChild(a);var n=document.createElement("a-entity");n.setAttribute("geometry","primitive: cylinder; radius: "+t.handleOuterRadius+"; height: "+t.handleOuterDepth+";"),n.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.borderColor+";"),n.setAttribute("rotation","90 0 0"),n.setAttribute("position",t.percent*o-.5*o+" 0 "+(t.handleOuterDepth-.01)),e.appendChild(n);var l=document.createElement("a-entity");l.setAttribute("geometry","primitive: cylinder; radius: "+t.handleInnerRadius+"; height: "+t.handleInnerDepth+";"),l.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+t.handleColor+";"),l.setAttribute("position","0 "+t.handleInnerDepth+" 0"),n.appendChild(l),e.addEventListener("mouseenter",function(){l.setAttribute("material","color",t.hoverColor)}),e.addEventListener("mouseleave",function(){l.setAttribute("material","color",t.handleColor)}),e.addEventListener("click",function(i){console.log("I was clicked at: ",i.detail.intersection.point);var o=e.object3D.worldToLocal(i.detail.intersection.point);console.log("local coordinates: ",o),console.log("current percent: "+t.percent);var l=2;o.x<=-l/2?t.percent=0:o.x>=l/2?t.percent=1:t.percent=(o.x+l/2)/l,console.log("handle container: "+n),r.setAttribute("geometry","primitive: box; width: "+2*t.percent+"; height: 0.05; depth: 0.03;"),r.setAttribute("position",t.percent-1+" 0 0.02"),a.setAttribute("geometry","primitive: box; width: "+(2-2*t.percent)+"; height: 0.05; depth: 0.03;"),a.setAttribute("position",1*t.percent+" 0 0.02"),n.setAttribute("position",2*t.percent-1+" 0 0.03");var s=e.getAttribute("gui-interactable");console.log("guiInteractable: "+s);var u=s.clickAction;console.log("clickActionFunctionName: "+u);var d=window[u];"function"==typeof d&&d(i,t.percent)})},update:function(){},tick:function(){},remove:function(){},pause:function(){},play:function(){}}),AFRAME.registerPrimitive("a-gui-slider",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"slider"},"gui-slider":{}},mappings:{"active-color":"gui-slider.activeColor","background-color":"gui-slider.backgroundColor","border-color":"gui-slider.borderColor","handle-color":"gui-slider.handleColor","handle-inner-depth":"gui-slider.handleInnerDepth","handle-inner-radius":"gui-slider.handleInnerRadius","handle-outer-depth":"gui-slider.handleOuterDepth","handle-outer-radius":"gui-slider.handleOuterRadius",height:"gui-item.height","hover-color":"gui-slider.hoverColor","key-code":"gui-interactable.keyCode","left-right-padding":"gui-slider.leftRightPadding",margin:"gui-item.margin",onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction",percent:"gui-slider.percent","slider-bar-depth":"gui-slider.sliderBarDepth","slider-bar-height":"gui-slider.sliderBarHeight","top-bottom-padding":"gui-slider.topBottomPadding",width:"gui-item.width"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-toggle",{schema:{on:{default:"click"},value:{type:"string",default:""},toggle:{type:"boolean",default:!1},toggleState:{type:"boolean",default:!1},active:{type:"boolean",default:!0},checked:{type:"boolean",default:!1},borderWidth:{type:"number",default:1},fontSize:{type:"number",default:.2},fontFamily:{type:"string",default:""},fontColor:{type:"string",default:key_grey_dark},borderColor:{type:"string",default:key_grey},backgroundColor:{type:"string",default:key_offwhite},hoverColor:{type:"string",default:key_grey_light},activeColor:{type:"string",default:key_orange},handleColor:{type:"string",default:key_offwhite}},init:function(){var t=this.data,e=this.el,i=e.getAttribute("gui-item");this.guiItem=i;var o=(this.toggleState=t.toggle,e.getAttribute("gui-interactable"));if(this.guiInteractable=o,t.fontSize>20){var r=t.fontSize/750;t.fontSize=r}e.setAttribute("material","shader: flat; depthTest:true;transparent: false; opacity: 1;  color: "+this.data.backgroundColor+"; side:front;"),e.setAttribute("geometry","primitive: plane; height: "+i.height+"; width: "+i.height+";");var a=i.height/1.75,n=.5*-i.width+i.height/2,l=document.createElement("a-box");l.setAttribute("width",a),l.setAttribute("height",.5*i.height),l.setAttribute("depth","0.01"),l.setAttribute("material","color:"+t.borderColor+"; shader: flat;"),l.setAttribute("position",n+" 0 0"),e.appendChild(l);var s=i.height/5,u=.5*-i.height+2*s,d=.5*i.height-2*s,c=document.createElement("a-box");c.setAttribute("width",""+s),c.setAttribute("height",.4*i.height),c.setAttribute("depth","0.02"),c.setAttribute("material","color:"+t.handleColor),c.setAttribute("position",u+" 0 0.02"),l.appendChild(c),this.setText(t.value),this.updateToggle(t.active),e.addEventListener("mouseenter",function(e){c.removeAttribute("animation__leave"),c.setAttribute("animation__enter","property: material.color; from: "+t.handleColor+"; to:"+t.hoverColor+"; dur:200;")}),e.addEventListener("mouseleave",function(e){c.removeAttribute("animation__enter"),c.setAttribute("animation__leave","property: material.color; from: "+t.hoverColor+"; to:"+t.handleColor+"; dur:200; easing: easeOutQuad;")}),e.addEventListener("check",function(e){t.checked||(t.checked=!0)}),e.addEventListener("uncheck",function(e){t.checked&&(t.checked=!1)}),e.addEventListener(t.on,function(i){console.log("I was clicked at: ",i.detail.intersection.point),t.checked=!t.checked,t.checked?(l.removeAttribute("animation__colorOut"),c.removeAttribute("animation__positionOut"),l.setAttribute("animation__colorIn","property: material.color; from: "+t.borderColor+"; to:"+t.activeColor+"; dur:200; easing:easeInOutCubic;"),c.setAttribute("animation__positionIn","property: position; from: "+u+" 0 0.02; to:"+d+" 0 0.02; dur:200; easing:easeInOutCubic;")):(l.removeAttribute("animation__colorIn"),c.removeAttribute("animation__positionIn"),l.setAttribute("animation__colorOut","property: material.color; from: "+t.activeColor+"; to:"+t.borderColor+"; dur:200; easing:easeInOutCubic;"),c.setAttribute("animation__positionOut","property: position; from: "+d+" 0 0.02; to:"+u+" 0 0.02; dur:200; easing:easeInOutCubic;"));var o=e.getAttribute("gui-interactable");console.log("guiInteractable: "+o);var r=o.clickAction;console.log("clickActionFunctionName: "+r);var a=window[r];"function"==typeof a&&a(i)})},update:function(){var t=this.data;this.el;if(this.updateToggle(t.active),this.textEntity){console.log("has textEntity: "+this.textEntity);var e=this.textEntity;e.parentNode.removeChild(e),this.setText(this.data.value)}else console.log("no textEntity!")},updateToggle:function(t){},setText:function(t){var e=this.guiItem.height-.5*this.guiItem.width,i=document.createElement("a-entity");this.textEntity=i,i.setAttribute("troika-text","value: "+t+"; \n                                                align:left; \n                                                anchor:left; \n                                                baseline:center;\n                                                letterSpacing:0;\n                                                color:"+this.data.fontColor+";\n                                                font:"+this.data.fontFamily+";\n                                                fontSize:"+this.data.fontSize+";\n                                                depthOffset:1;\n                                                maxWidth:"+this.guiItem.width/1.05+";\n                                                "),i.setAttribute("position",e+" 0 0.05"),this.el.appendChild(i)}}),AFRAME.registerPrimitive("a-gui-toggle",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"toggle"},"gui-toggle":{}},mappings:{onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction","key-code":"gui-interactable.keyCode",width:"gui-item.width",height:"gui-item.height",margin:"gui-item.margin",on:"gui-toggle.on",active:"gui-toggle.active",checked:"gui-toggle.checked",value:"gui-toggle.value","font-color":"gui-toggle.fontColor","font-family":"gui-toggle.fontFamily","font-size":"gui-toggle.fontSize","border-width":"gui-toggle.borderWidth","border-color":"gui-toggle.borderColor","background-color":"gui-toggle.backgroundColor","hover-color":"gui-toggle.hoverColor","active-color":"gui-toggle.activeColor","handle-color":"gui-toggle.handleColor"}})},function(t,e,i){"use strict";AFRAME.registerComponent("gui-vertical-slider",{schema:{activeColor:{type:"string",default:key_orange},backgroundColor:{type:"string",default:key_offwhite},borderColor:{type:"string",default:key_grey},handleColor:{type:"string",default:key_white},handleInnerDepth:{type:"number",default:.02},handleInnerRadius:{type:"number",default:.13},handleOuterDepth:{type:"number",default:.04},handleOuterRadius:{type:"number",default:.17},hoverColor:{type:"string",default:key_grey_light},hoverFontSize:{type:"number",default:100},hoverHeight:{type:"number",default:.35},hoverPercent:{type:"number"},hoverWidth:{type:"number",default:.7},hoverMargin:{type:"vec4",default:{x:0,y:0,z:0,w:0}},leftRightPadding:{type:"number",default:.125},percent:{type:"number",default:.5},opacity:{type:"number",default:1},outputFontSize:{type:"string",default:"0.2"},outputFunction:{type:"string"},outputHeight:{type:"number",default:1},outputMargin:{type:"vec4",default:{x:0,y:0,z:0,w:0}},outputTextDepth:{type:"number",default:.25},outputWidth:{type:"number",default:1},sliderBarDepth:{type:"number",default:.03},sliderBarWidth:{type:"number",default:.08},topBottomPadding:{type:"number",default:.25}},init:function(){var t=this,e=this.data,i=this.el,o=i.getAttribute("gui-item"),r=(o.width,e.leftRightPadding,o.height-2*e.topBottomPadding);this.sliderHeight=r,i.setAttribute("geometry","primitive: plane; height: "+o.height+"; width: "+o.width+";"),i.setAttribute("material","shader: flat; opacity: "+e.opacity+";  alphaTest: 0.5; color: "+e.backgroundColor+"; side:front;"),console.log("**** in vertical slider init, percent: "+e.percent+", sliderHeight: "+r);var a=document.createElement("a-entity");a.setAttribute("geometry","primitive: box; height: "+e.percent*r+"; width: "+e.sliderBarWidth+"; depth: "+e.sliderBarDepth+";"),a.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+e.activeColor+";"),a.setAttribute("position","0 "+(e.percent*r-.5*r-e.percent*r*.5)+" "+(e.sliderBarDepth-.01)),this.sliderActiveBar=a,i.appendChild(a);var n=document.createElement("a-entity");n.setAttribute("geometry","primitive: box; height: "+(r-e.percent*r)+"; width: "+e.sliderBarWidth+"; depth: "+e.sliderBarDepth+";"),n.setAttribute("material","shader: flat; opacity: 1; alphaTest: 0.5; side:double; color:"+e.borderColor+";"),n.setAttribute("position","0 "+e.percent*r*.5+" "+(e.sliderBarDepth-.01)),this.sliderBar=n,i.appendChild(n);var l=document.createElement("a-entity");l.setAttribute("geometry","primitive: cylinder; radius: "+e.handleOuterRadius+"; height: "+e.handleOuterDepth+";"),l.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+e.activeColor+";"),l.setAttribute("rotation","90 0 0"),l.setAttribute("position","0 "+(e.percent*r-.5*r)+" "+(e.handleOuterDepth-.01)),this.handleContainer=l,i.appendChild(l);var s=document.createElement("a-entity");s.setAttribute("geometry","primitive: cylinder; radius: "+e.handleInnerRadius+"; height: "+e.handleInnerDepth+";"),s.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+e.handleColor+";"),s.setAttribute("position","0 "+e.handleInnerDepth+" 0"),l.appendChild(s);var u=document.createElement("a-gui-label");u.setAttribute("width",""+1.4*o.width*e.outputWidth),u.setAttribute("height",""+.7*o.width),u.setAttribute("value","0.0"),u.setAttribute("opacity","1.0"),u.setAttribute("position",1.4*o.width+" 0 "+e.sliderBarDepth),u.setAttribute("rotation","-90 0 0"),u.setAttribute("font-color",e.activeColor),u.setAttribute("font-size",240*o.width+"px"),u.setAttribute("font-weight","bold"),u.setAttribute("text-depth",e.outputTextDepth),this.valueLabel=u,l.appendChild(u);var d=document.createElement("a-entity");d.setAttribute("geometry","primitive: box; height: 0.02; width: "+.5*o.width+"; depth: "+e.sliderBarDepth+";"),d.setAttribute("material","shader: flat; opacity: 1; side:double; color: "+e.activeColor+";"),d.setAttribute("position",.5*-o.width+" 0 "+(e.sliderBarDepth-.01)),d.setAttribute("visible","false"),this.hoverIndicator=d,i.appendChild(d);var c=document.createElement("a-gui-label");c.setAttribute("width",""+o.width*e.hoverWidth),c.setAttribute("height",""+o.width*e.hoverHeight),c.setAttribute("value",""),c.setAttribute("opacity","0.5"),c.setAttribute("position",-o.width*e.hoverWidth+" 0 "+e.sliderBarDepth),c.setAttribute("font-color",e.borderColor),c.setAttribute("font-size",o.width*e.hoverFontSize+"px"),c.setAttribute("text-depth",e.outputTextDepth),this.hoverLabel=c,d.appendChild(c),i.addEventListener("mouseenter",function(){s.setAttribute("material","color",e.hoverColor)}),i.addEventListener("mouseleave",function(){s.setAttribute("material","color",e.handleColor)}),i.addEventListener("click",function(t){var o=i.object3D.worldToLocal(t.detail.intersection.point);console.log("click local coordinates: ",o),console.log("current percent: "+e.percent);var a=null;a=o.y<=-r/2?0:o.y>=r/2?1:(o.y+r/2)/r,console.log("new percent: "+a),i.setAttribute("gui-vertical-slider","percent",String(a)),i.setAttribute("gui-vertical-slider","hoverPercent",String(a)),console.log("handle container: "+l);var n=i.getAttribute("gui-interactable");console.log("guiInteractable: "+n);var s=n.clickAction;console.log("clickActionFunctionName: "+s);var u=window[s];"function"==typeof u&&u(e.percent)}),this.el.addEventListener("raycaster-intersected",function(e){t.raycaster=e.detail.el}),this.el.addEventListener("raycaster-intersected-cleared",function(e){t.raycaster=null,t.hoverIndicator.setAttribute("visible",!1),t.hoverLabel.setAttribute("visible",!1)})},update:function(t){var e=this.data,i=this.el,o=i.getAttribute("gui-item"),r=(o.width,e.leftRightPadding,o.height-2*e.topBottomPadding);if(e.percent!=t.percent&&this.sliderActiveBar&&this.sliderBar&&this.handleContainer){var r=o.height-2*e.topBottomPadding;this.sliderActiveBar.setAttribute("geometry","primitive: box; height: "+e.percent*r+"; width: "+e.sliderBarWidth+"; depth: "+e.sliderBarDepth+";"),this.sliderActiveBar.setAttribute("position","0 "+(e.percent*r-.5*r-e.percent*r*.5)+" "+(e.sliderBarDepth-.01)),this.sliderBar.setAttribute("geometry","primitive: box; width: "+e.sliderBarWidth+"; height: "+(r-e.percent*r)+"; depth: "+e.sliderBarDepth+";"),this.sliderBar.setAttribute("position","0 "+e.percent*r*.5+" "+(e.sliderBarDepth-.01)),this.handleContainer.setAttribute("position","0 "+(e.percent*r-.5*r)+" "+(e.handleOuterDepth-.01));var a=this.getOutputValue(!1);a&&this.valueLabel.setAttribute("value",a),this.hoverIndicator.setAttribute("visible",!1),this.hoverLabel.setAttribute("visible",!1)}else if(e.hoverPercent!=t.hoverPercent&&e.hoverPercent!=e.percent&&this.hoverIndicator){var n=this.getOutputValue(!0);n&&this.hoverLabel.setAttribute("value",n),this.hoverIndicator.setAttribute("position","0 "+(e.hoverPercent*r-.5*r)+" "+(e.sliderBarDepth-.01)),this.hoverIndicator.setAttribute("visible",!0),this.hoverLabel.setAttribute("visible",!0)}},tick:function(){if(this.raycaster){var t=this.el,e=(this.data,this.sliderHeight),i=(this.handleContainer,this.raycaster.components.raycaster.getIntersection(t));if(i){if(this.previousLocalY&&this.previousLocalY==i.point.y)return this.hoverIndicator.setAttribute("visible",!1),void this.hoverLabel.setAttribute("visible",!1);var o=this.el.object3D;o.updateMatrixWorld();var r=new THREE.Vector3,a=new THREE.Quaternion,n=new THREE.Vector3;o.matrixWorld.decompose(r,a,n);var l=new THREE.Vector3;l.x=i.point.x-r.x,l.y=i.point.y-r.y,l.z=i.point.z-r.z,this.previousLocalY=l.y;var s=null;(s=l.y<=-e/2?0:l.y>=e/2?1:(l.y+e/2)/e)!=this.data.hoverPercent&&t.setAttribute("gui-vertical-slider","hoverPercent",String(s));var u=t.getAttribute("gui-interactable"),d=u.hoverAction,c=window[d];"function"==typeof c&&c(s)}}},remove:function(){},pause:function(){},play:function(){},getOutputValue:function(t){var e=window[this.data.outputFunction];if("function"==typeof e){return e(t?this.data.hoverPercent:this.data.percent)}return null}}),AFRAME.registerPrimitive("a-gui-vertical-slider",{defaultComponents:{"gui-interactable":{},"gui-item":{type:"slider"},"gui-vertical-slider":{}},mappings:{"active-color":"gui-vertical-slider.activeColor","background-color":"gui-vertical-slider.backgroundColor","border-color":"gui-vertical-slider.borderColor","handle-color":"gui-vertical-slider.handleColor","handle-inner-depth":"gui-vertical-slider.handleInnerDepth","handle-inner-radius":"gui-vertical-slider.handleInnerRadius","handle-outer-depth":"gui-vertical-slider.handleOuterDepth","handle-outer-radius":"gui-vertical-slider.handleOuterRadius",height:"gui-item.height","hover-color":"gui-vertical-slider.hoverColor","hover-font-size":"gui-vertical-slider.hoverFontSize","hover-height":"gui-vertical-slider.hoverHeight","hover-margin":"gui-vertical-slider.hoverMargin","hover-percent":"gui-vertical-slider.hoverPercent","hover-width":"gui-vertical-slider.hoverWidth","key-code":"gui-interactable.keyCode","left-right-padding":"gui-vertical-slider.leftRightPadding",margin:"gui-item.margin",onclick:"gui-interactable.clickAction",onhover:"gui-interactable.hoverAction",opacity:"gui-vertical-slider.opacity","output-font-size":"gui-vertical-slider.outputFontSize","output-function":"gui-vertical-slider.outputFunction","output-height":"gui-vertical-slider.outputHeight","output-margin":"gui-vertical-slider.outputMargin","output-text-depth":"gui-vertical-slider.outputTextDepth","output-width":"gui-vertical-slider.outputWidth",percent:"gui-vertical-slider.percent","slider-bar-depth":"gui-vertical-slider.sliderBarDepth","slider-bar-width":"gui-vertical-slider.sliderBarWidth","top-bottom-padding":"gui-vertical-slider.topBottomPadding",width:"gui-item.width"}})},function(t,e,i){"use strict";var o=document.querySelector("#cursor");o&&o.addEventListener("stateremoved",function(t){"cursor-fusing"===t.detail.state&&(AFRAME.utils.entity.setComponentProperty(this,"geometry.thetaLength",360),AFRAME.utils.entity.setComponentProperty(this,"material.color",key_white),AFRAME.utils.entity.setComponentProperty(this,"scale","1 1 1"))})},function(t,e,i){"use strict";window.nearestPow2=function(t){Math.pow(2,Math.round(Math.log(t)/Math.log(2)))}},function(t,e,i){"use strict";window.normalYPosition=1.5,window.hiddenYPosition=1e3,window.key_orange="#ed5b21",window.key_orange_light="#ef8c60",window.key_grey="#22252a",window.key_grey_dark="#2c3037",window.key_grey_light="#606876",window.key_offwhite="#d3d3d4",window.key_white="#fff",window.icon_font={alert:"","alert-circled":"","android-add":"","android-add-circle":"","android-alarm-clock":"","android-alert":"","android-apps":"","android-archive":"","android-arrow-back":"","android-arrow-down":"","android-arrow-dropdown":"","android-arrow-dropdown-circle":"","android-arrow-dropleft":"","android-arrow-dropleft-circle":"","android-arrow-dropright":"","android-arrow-dropright-circle":"","android-arrow-dropup":"","android-arrow-dropup-circle":"","android-arrow-forward":"","android-arrow-up":"","android-attach":"","android-bar":"","android-bicycle":"","android-boat":"","android-bookmark":"","android-bulb":"","android-bus":"","android-calendar":"","android-call":"","android-camera":"","android-cancel":"","android-car":"","android-cart":"","android-chat":"","android-checkbox":"","android-checkbox-blank":"","android-checkbox-outline":"","android-checkbox-outline-blank":"","android-checkmark-circle":"","android-clipboard":"","android-close":"","android-cloud":"","android-cloud-circle":"","android-cloud-done":"","android-cloud-outline":"","android-color-palette":"","android-compass":"","android-contact":"","android-contacts":"","android-contract":"","android-create":"","android-delete":"","android-desktop":"","android-document":"","android-done":"","android-done-all":"","android-download":"","android-drafts":"","android-exit":"","android-expand":"","android-favorite":"","android-favorite-outline":"","android-film":"","android-folder":"","android-folder-open":"","android-funnel":"","android-globe":"","android-hand":"","android-hangout":"","android-happy":"","android-home":"","android-image":"","android-laptop":"","android-list":"","android-locate":"","android-lock":"","android-mail":"","android-map":"","android-menu":"","android-microphone":"","android-microphone-off":"","android-more-horizontal":"","android-more-vertical":"","android-navigate":"","android-notifications":"","android-notifications-none":"","android-notifications-off":"","android-open":"","android-options":"","android-people":"","android-person":"","android-person-add":"","android-phone-landscape":"","android-phone-portrait":"","android-pin":"","android-plane":"","android-playstore":"","android-print":"","android-radio-button-off":"","android-radio-button-on":"","android-refresh":"","android-remove":"","android-remove-circle":"","android-restaurant":"","android-sad":"","android-search":"","android-send":"","android-settings":"","android-share":"","android-share-alt":"","android-star":"","android-star-half":"","android-star-outline":"","android-stopwatch":"","android-subway":"","android-sunny":"","android-sync":"","android-textsms":"","android-time":"","android-train":"","android-unlock":"","android-upload":"","android-volume-down":"","android-volume-mute":"","android-volume-off":"","android-volume-up":"","android-walk":"","android-warning":"","android-watch":"","android-wifi":"",aperture:"",archive:"","arrow-down-a":"","arrow-down-b":"","arrow-down-c":"","arrow-expand":"","arrow-graph-down-left":"","arrow-graph-down-right":"","arrow-graph-up-left":"","arrow-graph-up-right":"","arrow-left-a":"","arrow-left-b":"","arrow-left-c":"","arrow-move":"","arrow-resize":"","arrow-return-left":"","arrow-return-right":"","arrow-right-a":"","arrow-right-b":"","arrow-right-c":"","arrow-shrink":"","arrow-swap":"","arrow-up-a":"","arrow-up-b":"","arrow-up-c":"",asterisk:"",at:"",backspace:"","backspace-outline":"",bag:"","battery-charging":"","battery-empty":"","battery-full":"","battery-half":"","battery-low":"",beaker:"",beer:"",bluetooth:"",bonfire:"",bookmark:"",bowtie:"",briefcase:"",bug:"",calculator:"",calendar:"",camera:"",card:"",cash:"",chatbox:"","chatbox-working":"",chatboxes:"",chatbubble:"","chatbubble-working":"",chatbubbles:"",checkmark:"","checkmark-circled":"","checkmark-round":"","chevron-down":"","chevron-left":"","chevron-right":"","chevron-up":"",clipboard:"",clock:"",close:"","close-circled":"","close-round":"","closed-captioning":"",cloud:"",code:"","code-download":"","code-working":"",coffee:"",compass:"",compose:"","connection-bars":"",contrast:"",crop:"",cube:"",disc:"",document:"","document-text":"",drag:"",earth:"",easel:"",edit:"",egg:"",eject:"",email:"","email-unread":"","erlenmeyer-flask":"","erlenmeyer-flask-bubbles":"",eye:"","eye-disabled":"",female:"",filing:"","film-marker":"",fireball:"",flag:"",flame:"",flash:"","flash-off":"",folder:"",fork:"","fork-repo":"",forward:"",funnel:"","gear-a":"","gear-b":"",grid:"",hammer:"",happy:"","happy-outline":"",headphone:"",heart:"","heart-broken":"",help:"","help-buoy":"","help-circled":"",home:"",icecream:"",image:"",images:"",information:"","information-circled":"",ionic:"","ios-alarm":"","ios-alarm-outline":"","ios-albums":"","ios-albums-outline":"","ios-americanfootball":"","ios-americanfootball-outline":"","ios-analytics":"","ios-analytics-outline":"","ios-arrow-back":"","ios-arrow-down":"","ios-arrow-forward":"","ios-arrow-left":"","ios-arrow-right":"","ios-arrow-thin-down":"","ios-arrow-thin-left":"","ios-arrow-thin-right":"","ios-arrow-thin-up":"","ios-arrow-up":"","ios-at":"","ios-at-outline":"","ios-barcode":"","ios-barcode-outline":"","ios-baseball":"","ios-baseball-outline":"","ios-basketball":"","ios-basketball-outline":"","ios-bell":"","ios-bell-outline":"","ios-body":"","ios-body-outline":"","ios-bolt":"","ios-bolt-outline":"","ios-book":"","ios-book-outline":"","ios-bookmarks":"","ios-bookmarks-outline":"","ios-box":"","ios-box-outline":"","ios-briefcase":"","ios-briefcase-outline":"","ios-browsers":"","ios-browsers-outline":"","ios-calculator":"","ios-calculator-outline":"","ios-calendar":"","ios-calendar-outline":"","ios-camera":"","ios-camera-outline":"","ios-cart":"","ios-cart-outline":"","ios-chatboxes":"","ios-chatboxes-outline":"","ios-chatbubble":"","ios-chatbubble-outline":"","ios-checkmark":"","ios-checkmark-empty":"","ios-checkmark-outline":"","ios-circle-filled":"","ios-circle-outline":"","ios-clock":"","ios-clock-outline":"","ios-close":"","ios-close-empty":"","ios-close-outline":"","ios-cloud":"","ios-cloud-download":"","ios-cloud-download-outline":"","ios-cloud-outline":"","ios-cloud-upload":"","ios-cloud-upload-outline":"","ios-cloudy":"","ios-cloudy-night":"","ios-cloudy-night-outline":"","ios-cloudy-outline":"","ios-cog":"","ios-cog-outline":"","ios-color-filter":"","ios-color-filter-outline":"","ios-color-wand":"","ios-color-wand-outline":"","ios-compose":"","ios-compose-outline":"","ios-contact":"","ios-contact-outline":"","ios-copy":"","ios-copy-outline":"","ios-crop":"","ios-crop-strong":"","ios-download":"","ios-download-outline":"","ios-drag":"","ios-email":"","ios-email-outline":"","ios-eye":"","ios-eye-outline":"","ios-fastforward":"","ios-fastforward-outline":"","ios-filing":"","ios-filing-outline":"","ios-film":"","ios-film-outline":"","ios-flag":"","ios-flag-outline":"","ios-flame":"","ios-flame-outline":"","ios-flask":"","ios-flask-outline":"","ios-flower":"","ios-flower-outline":"","ios-folder":"","ios-folder-outline":"","ios-football":"","ios-football-outline":"","ios-game-controller-a":"","ios-game-controller-a-outline":"","ios-game-controller-b":"","ios-game-controller-b-outline":"","ios-gear":"","ios-gear-outline":"","ios-glasses":"","ios-glasses-outline":"","ios-grid-view":"","ios-grid-view-outline":"","ios-heart":"","ios-heart-outline":"","ios-help":"","ios-help-empty":"","ios-help-outline":"","ios-home":"","ios-home-outline":"","ios-infinite":"","ios-infinite-outline":"","ios-information":"","ios-information-empty":"","ios-information-outline":"","ios-ionic-outline":"","ios-keypad":"","ios-keypad-outline":"","ios-lightbulb":"","ios-lightbulb-outline":"","ios-list":"","ios-list-outline":"","ios-location":"","ios-location-outline":"","ios-locked":"","ios-locked-outline":"","ios-loop":"","ios-loop-strong":"","ios-medical":"","ios-medical-outline":"","ios-medkit":"","ios-medkit-outline":"","ios-mic":"","ios-mic-off":"","ios-mic-outline":"","ios-minus":"","ios-minus-empty":"","ios-minus-outline":"","ios-monitor":"","ios-monitor-outline":"","ios-moon":"","ios-moon-outline":"","ios-more":"","ios-more-outline":"","ios-musical-note":"","ios-musical-notes":"","ios-navigate":"","ios-navigate-outline":"","ios-nutrition":"","ios-nutrition-outline":"","ios-paper":"","ios-paper-outline":"","ios-paperplane":"","ios-paperplane-outline":"","ios-partlysunny":"","ios-partlysunny-outline":"","ios-pause":"","ios-pause-outline":"","ios-paw":"","ios-paw-outline":"","ios-people":"","ios-people-outline":"","ios-person":"","ios-person-outline":"","ios-personadd":"","ios-personadd-outline":"","ios-photos":"","ios-photos-outline":"","ios-pie":"","ios-pie-outline":"","ios-pint":"","ios-pint-outline":"","ios-play":"","ios-play-outline":"","ios-plus":"","ios-plus-empty":"","ios-plus-outline":"","ios-pricetag":"","ios-pricetag-outline":"","ios-pricetags":"","ios-pricetags-outline":"","ios-printer":"","ios-printer-outline":"","ios-pulse":"","ios-pulse-strong":"","ios-rainy":"","ios-rainy-outline":"","ios-recording":"","ios-recording-outline":"","ios-redo":"","ios-redo-outline":"","ios-refresh":"","ios-refresh-empty":"","ios-refresh-outline":"","ios-reload":"","ios-reverse-camera":"","ios-reverse-camera-outline":"","ios-rewind":"","ios-rewind-outline":"","ios-rose":"","ios-rose-outline":"","ios-search":"","ios-search-strong":"","ios-settings":"","ios-settings-strong":"","ios-shuffle":"","ios-shuffle-strong":"","ios-skipbackward":"","ios-skipbackward-outline":"","ios-skipforward":"","ios-skipforward-outline":"","ios-snowy":"","ios-speedometer":"","ios-speedometer-outline":"","ios-star":"","ios-star-half":"","ios-star-outline":"","ios-stopwatch":"","ios-stopwatch-outline":"","ios-sunny":"","ios-sunny-outline":"","ios-telephone":"","ios-telephone-outline":"","ios-tennisball":"","ios-tennisball-outline":"","ios-thunderstorm":"","ios-thunderstorm-outline":"","ios-time":"","ios-time-outline":"","ios-timer":"","ios-timer-outline":"","ios-toggle":"","ios-toggle-outline":"","ios-trash":"","ios-trash-outline":"","ios-undo":"","ios-undo-outline":"","ios-unlocked":"","ios-unlocked-outline":"","ios-upload":"","ios-upload-outline":"","ios-videocam":"","ios-videocam-outline":"","ios-volume-high":"","ios-volume-low":"","ios-wineglass":"","ios-wineglass-outline":"","ios-world":"","ios-world-outline":"",ipad:"",iphone:"",ipod:"",jet:"",key:"",knife:"",laptop:"",leaf:"",levels:"",lightbulb:"",link:"","load-a":"","load-b":"","load-c":"","load-d":"",location:"","lock-combination":"",locked:"","log-in":"","log-out":"",loop:"",magnet:"",male:"",man:"",map:"",medkit:"",merge:"","mic-a":"","mic-b":"","mic-c":"",minus:"","minus-circled":"","minus-round":"","model-s":"",monitor:"",more:"",mouse:"","music-note":"",navicon:"","navicon-round":"",navigate:"",network:"","no-smoking":"",nuclear:"",outlet:"",paintbrush:"",paintbucket:"","paper-airplane":"",paperclip:"",pause:"",person:"","person-add":"","person-stalker":"","pie-graph":"",pin:"",pinpoint:"",pizza:"",plane:"",planet:"",play:"",playstation:"",plus:"","plus-circled":"","plus-round":"",podium:"",pound:"",power:"",pricetag:"",pricetags:"",printer:"","pull-request":"","qr-scanner":"",quote:"","radio-waves":"",record:"",refresh:"",reply:"","reply-all":"","ribbon-a":"","ribbon-b":"",sad:"","sad-outline":"",scissors:"",search:"",settings:"",share:"",shuffle:"","skip-backward":"","skip-forward":"","social-android":"","social-android-outline":"","social-angular":"","social-angular-outline":"","social-apple":"","social-apple-outline":"","social-bitcoin":"","social-bitcoin-outline":"","social-buffer":"","social-buffer-outline":"","social-chrome":"","social-chrome-outline":"","social-codepen":"","social-codepen-outline":"","social-css3":"","social-css3-outline":"","social-designernews":"","social-designernews-outline":"","social-dribbble":"","social-dribbble-outline":"","social-dropbox":"","social-dropbox-outline":"","social-euro":"","social-euro-outline":"","social-facebook":"","social-facebook-outline":"","social-foursquare":"","social-foursquare-outline":"","social-freebsd-devil":"","social-github":"","social-github-outline":"","social-google":"","social-google-outline":"","social-googleplus":"","social-googleplus-outline":"","social-hackernews":"","social-hackernews-outline":"","social-html5":"","social-html5-outline":"","social-instagram":"","social-instagram-outline":"","social-javascript":"","social-javascript-outline":"","social-linkedin":"","social-linkedin-outline":"","social-markdown":"","social-nodejs":"","social-octocat":"","social-pinterest":"","social-pinterest-outline":"","social-python":"","social-reddit":"","social-reddit-outline":"","social-rss":"","social-rss-outline":"","social-sass":"","social-skype":"","social-skype-outline":"","social-snapchat":"","social-snapchat-outline":"","social-tumblr":"","social-tumblr-outline":"","social-tux":"","social-twitch":"","social-twitch-outline":"","social-twitter":"","social-twitter-outline":"","social-usd":"","social-usd-outline":"","social-vimeo":"","social-vimeo-outline":"","social-whatsapp":"","social-whatsapp-outline":"","social-windows":"","social-windows-outline":"","social-wordpress":"","social-wordpress-outline":"","social-yahoo":"","social-yahoo-outline":"","social-yen":"","social-yen-outline":"","social-youtube":"","social-youtube-outline":"","soup-can":"","soup-can-outline":"",speakerphone:"",speedometer:"",spoon:"",star:"","stats-bars":"",steam:"",stop:"",thermometer:"",thumbsdown:"",thumbsup:"",toggle:"","toggle-filled":"",transgender:"","trash-a":"","trash-b":"",trophy:"",tshirt:"","tshirt-outline":"",umbrella:"",university:"",unlocked:"",upload:"",usb:"",videocamera:"","volume-high":"","volume-low":"","volume-medium":"","volume-mute":"",wand:"",waterdrop:"",wifi:"",wineglass:"",woman:"",wrench:"",xbox:""},window.getUniqueId=function(t){return t+"_"+(new Date).getTime().toString()+Math.random().toString().replace(".","")},window.getTextWidth=function(t,e){var i=getTextWidth.canvas||(getTextWidth.canvas=document.createElement("canvas")),o=i.getContext("2d");return o.font=e,o.measureText(t).width},window.drawText=function(t,e,i,o,r,a){var n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:1,l=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"center",s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:"middle",u=arguments.length>9&&void 0!==arguments[9]?arguments[9]:"normal";t.font=u+" "+o+" "+r,t.fillStyle=a,t.textAlign=l,t.textBaseline=s,t.scale(n,n),t.clearRect(0,0,e.width,e.height);var d=i+"";if(d.match("char#")){var c=d.substring(d.indexOf("#")+1);"left"==l?t.fillText(String.fromCharCode(c),e.height/8,e.height/2):t.fillText(String.fromCharCode(c),e.width/2,e.height/2)}else"left"==l?t.fillText(d,e.height/8,e.height/2):t.fillText(d,e.width/2,e.height/2)},window.drawIcon=function(t,e,i,o,r){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:1;t.font=i+" Ionicons",t.fillStyle=r,t.textAlign="center",t.textBaseline="middle",t.clearRect(0,0,e.width,e.height),t.scale(a,a),icon_font[o]?t.fillText(icon_font[o],e.width/2,e.height/2):t.fillText("?",e.width/2,e.height/2)}},function(t,e,i){"use strict";if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");i(20),i(19),i(10),i(0),i(9),i(5),i(11),i(1),i(6),i(7),i(16),i(13),i(2),i(12),i(3),i(15),i(17),i(8),i(4),i(14),i(18)}]);